 RepairHelper_477b755cb5eedc79f8623b5eba69160a = nil; RepairHelper_b91844169a60cd552988d42e160ba07b = nil; RepairHelper_ee5fe77fc257d8f74950d837b11a9c1d = nil; if (GetLocale() == "zhCN") then MOD_REPAIRHELPER_TITLE = {"修理助手", "xiulizhushou"} REPAIRHELPER_ENABLE_TEXT = "开启修理助手" REPAIRHELPER_AUTO_REPAIR_TEXT = "自动修理身上破损的装备" REPAIRHELPER_REPAIR_ALL_TEXT = "自动修理身上所有的的装备" REPAIRHELPER_USE_GUILD_MONEY_TEXT = "优先使用公会资金" REPAIRHELPER_FORMAT_MONEY_GOLD = "你在修理上面花费了%d金币%d银币%d铜币%s。"; REPAIRHELPER_FORMAT_MONEY_SILVER = "你在修理上面花费了%d银币%d铜币%s。"; REPAIRHELPER_FORMAT_MONEY_COPPER = "你在修理上面花费了%d铜币%s。"; REPAIRHELPER_GUILD_MONEY = "(公会资金)"; REPAIRHELPER_REPAIR_CONFIRM_TEXT = "你可以选择仅仅修理背包里的装备或者身上的装备。你想修理哪一部分装备？"; REPAIRHELPER_REPAIR_ALL = "修理背包装备"; REPAIRHELPER_REPAIR_INVENTORY = "修理身上装备"; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd = {}; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["武器"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"] = {}; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["头部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["肩部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["胸部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["手腕"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["手"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["腰部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["腿部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["护甲"]["脚"] = 1; elseif (GetLocale() == "zhTW") then MOD_REPAIRHELPER_TITLE = {"修理助手", "xiulizhushou"} REPAIRHELPER_ENABLE_TEXT = "開啓修理助手" REPAIRHELPER_AUTO_REPAIR_TEXT = "自動修理身上破損的裝備" REPAIRHELPER_REPAIR_ALL_TEXT = "自動修理身上所有的的裝備" REPAIRHELPER_USE_GUILD_MONEY_TEXT = "優先使用公會資金" REPAIRHELPER_FORMAT_MONEY_GOLD = "你在修理上面花費了%d金幣%d銀幣%d銅幣。%s"; REPAIRHELPER_FORMAT_MONEY_SILVER = "你在修理上面花費了%d銀幣%d銅幣。%s"; REPAIRHELPER_FORMAT_MONEY_COPPER = "你在修理上面花費了%d銅幣。%s"; REPAIRHELPER_REPAIR_CONFIRM_TEXT = "你可以選擇僅僅修理背包裏的裝備或者身上的裝備。你想修理哪一部分裝備？"; REPAIRHELPER_REPAIR_ALL = "修理背包裝備"; REPAIRHELPER_REPAIR_INVENTORY = "修理身上裝備"; REPAIRHELPER_GUILD_MONEY = "(公會資金)"; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd = {}; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["武器"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"] = {}; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["頭部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["肩部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["胸部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["手腕"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["手"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["腰部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["腿部"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["護甲"]["腳"] = 1; else MOD_REPAIRHELPER_TITLE = "Repair Helper" REPAIRHELPER_ENABLE_TEXT = "Enable Repair Helper" REPAIRHELPER_AUTO_REPAIR_TEXT = "Auto repair broken equipements" REPAIRHELPER_REPAIR_ALL_TEXT = "Repair all equipments at the same time" REPAIRHELPER_USE_GUILD_MONEY_TEXT = "Use guild money firstly" REPAIRHELPER_FORMAT_MONEY_GOLD = "You have spared %d gold %d silver %d copper coins on repair.%s"; REPAIRHELPER_FORMAT_MONEY_SILVER = "You have spared %d silver %d copper coins on repair.%s"; REPAIRHELPER_FORMAT_MONEY_COPPER = "You have spared %d copper coins on repair.%s"; REPAIRHELPER_GUILD_MONEY = "(Guild Money)"; REPAIRHELPER_REPAIR_CONFIRM_TEXT = "You can choose to repair equipement in bags or on wear. Which part do you want to repair?"; REPAIRHELPER_REPAIR_ALL = "Bags"; REPAIRHELPER_REPAIR_INVENTORY = "Inventory"; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd = {}; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Weapon"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"] = {}; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Head"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Shoulder"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Chest"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Wrist"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Hands"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Waist"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Legs"] = 1; RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd["Armor"]["Feet"] = 1; end RepairHelper_ff90f21f7d94be70e750fc59ae91fe80 = {}; RepairHelper_abd605481f5fb87b76a4080ef2783e4c = {}; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[1] = "HeadSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[2] = "ShoulderSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[3] = "ChestSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[4] = "WaistSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[5] = "LegsSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[6] = "FeetSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[7] = "WristSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[8] = "HandsSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[9] = "MainHandSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[10] = "SecondaryHandSlot"; RepairHelper_abd605481f5fb87b76a4080ef2783e4c[11] = "RangedSlot"; RepairHelper_6f3ee7154b9fbc3255d766207380f1fe = { ["ff9d9d9d"] = -1, ["ffffffff"] = 0, ["ff1eff00"] = 1, ["ff0070dd"] = 2, ["ffa335ee"] = 3, }; RepairHelper_a5abeb40fe0cd954d539942286f106b2 = nil; RepairHelper_17b8442c8d8dfd017f34f021a43ec5f5 = nil; StaticPopupDialogs["REPAIR_CONFIRM"] = { text = REPAIRHELPER_REPAIR_CONFIRM_TEXT, button1 = REPAIRHELPER_REPAIR_ALL, button2 = REPAIRHELPER_REPAIR_INVENTORY, OnAccept = function(self) RepairHelper_142dbb799663653f3dcba2c740065125(); end, OnCancel = function(self) local RepairHelper_c8854a838d9d08f9224f1e74e9927e51, RepairHelper_7bb523ebffa27097fc9cdabe8ed2b548 = GetRepairAllCost(); if (RepairHelper_7bb523ebffa27097fc9cdabe8ed2b548) then RepairAllItems(); PlaySound("ITEM_REPAIR"); end end, OnShow = function(self) local button = getglobal(self:GetName().."Button2"); local _, RepairHelper_7bb523ebffa27097fc9cdabe8ed2b548 = GetRepairAllCost(); if (not RepairHelper_7bb523ebffa27097fc9cdabe8ed2b548) then button:Disable(); else button:Enable(); end end, OnHide = function(self) local button = getglobal(self:GetName().."Button2"); button:Enable(); end, timeout = 0, whileDead = 1, hideOnEscape = 1 }; function RepairHelper_8095db3396c941d6cae0f8c96fada1bd(RepairHelper_e0e85008d0859db6bb769f09cf1b7b30) return RepairHelper_6f3ee7154b9fbc3255d766207380f1fe[RepairHelper_e0e85008d0859db6bb769f09cf1b7b30]; end function RepairHelper_142dbb799663653f3dcba2c740065125() if (not InRepairMode()) then ShowRepairCursor(); end if (not MerchantFrame:IsVisible()) then return; end local RepairHelper_8d0febf2348ea712b2b375ae95601d5f; for RepairHelper_8d0febf2348ea712b2b375ae95601d5f=0, NUM_BAG_FRAMES, 1 do local RepairHelper_01d6e9805c2060c2c9728c5e9aac3986; local RepairHelper_e8e0561e44ee6fe506f1936a0781a2bb; local RepairHelper_d78c04a2a3312fe618a0870823e76324 = GetContainerNumSlots(RepairHelper_8d0febf2348ea712b2b375ae95601d5f); for RepairHelper_5e57ab95c762a48d9a126b104db1056f=1, NUM_CONTAINER_FRAMES, 1 do local RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a = getglobal("ContainerFrame"..RepairHelper_5e57ab95c762a48d9a126b104db1056f); local RepairHelper_3b198bf6fd79161b900304005eebe7d5 = RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a:GetID(); if(RepairHelper_3b198bf6fd79161b900304005eebe7d5 == RepairHelper_8d0febf2348ea712b2b375ae95601d5f) then RepairHelper_01d6e9805c2060c2c9728c5e9aac3986 = RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a; break; end if(not RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a:IsVisible()) then RepairHelper_e8e0561e44ee6fe506f1936a0781a2bb = RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a; end end if(not RepairHelper_01d6e9805c2060c2c9728c5e9aac3986 and RepairHelper_e8e0561e44ee6fe506f1936a0781a2bb) then RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a = RepairHelper_e8e0561e44ee6fe506f1936a0781a2bb; RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a:SetID(RepairHelper_8d0febf2348ea712b2b375ae95601d5f); else RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a = RepairHelper_01d6e9805c2060c2c9728c5e9aac3986; end local RepairHelper_8983c60d66c8593ec7165ea9dbedb584 = RepairHelper_411b8aa6d5954c6020f0b9c9e80e847a:GetName(); for RepairHelper_5e57ab95c762a48d9a126b104db1056f =RepairHelper_d78c04a2a3312fe618a0870823e76324, 1, -1 do local RepairHelper_ca0de5e9ed087ac8d67ca8d417281946 = getglobal(RepairHelper_8983c60d66c8593ec7165ea9dbedb584.."Item"..RepairHelper_5e57ab95c762a48d9a126b104db1056f); local RepairHelper_5fb35c5c169c804bc82bd7f93ad8e32f; local RepairHelper_9248008bbb6d0ee7ce13f6ee45680051, RepairHelper_e92be00eafc11562d2cc29c723b2b467, RepairHelper_f60965c86fccd81e8c42e13f66ae86cd = GetContainerItemInfo(RepairHelper_8d0febf2348ea712b2b375ae95601d5f, RepairHelper_5e57ab95c762a48d9a126b104db1056f); local RepairHelper_15ad1e501e228eb80be1cc7800ab967d = GetContainerItemLink(RepairHelper_8d0febf2348ea712b2b375ae95601d5f, RepairHelper_5e57ab95c762a48d9a126b104db1056f); if( RepairHelper_15ad1e501e228eb80be1cc7800ab967d ) then for RepairHelper_e0e85008d0859db6bb769f09cf1b7b30, RepairHelper_2e00ffac12aadb3a1fd865993ec505b9, RepairHelper_8983c60d66c8593ec7165ea9dbedb584 in string.gmatch(RepairHelper_15ad1e501e228eb80be1cc7800ab967d, "|c(%x+)|Hitem:(%d+):%d+:%d+:%d+:[+-]?%d+:[+-]?%d+|h%[(.-)%]|h|r") do local RepairHelper_44f1cf502791fa12f483fb071272bdbe, RepairHelper_b2af7cf0fd333a127be1a11085d003de, RepairHelper_5fb35c5c169c804bc82bd7f93ad8e32f, RepairHelper_94f097ab5e14f9a928c3b86f23c6a995, RepairHelper_b962f54280c77029bc350c2b321adc64, RepairHelper_eb6701eb8e3e6aafd22655193e182270, RepairHelper_c9ae5424a63db68ad1480accc95bf397, RepairHelper_0450b615084351356376eb672b43ccb0 = GetItemInfo(RepairHelper_2e00ffac12aadb3a1fd865993ec505b9); if (RepairHelper_5fb35c5c169c804bc82bd7f93ad8e32f >= 2) then if (type(RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd[RepairHelper_b962f54280c77029bc350c2b321adc64]) == "table" and RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd[RepairHelper_b962f54280c77029bc350c2b321adc64][RepairHelper_0450b615084351356376eb672b43ccb0]) then if (InRepairMode()) then UseContainerItem(RepairHelper_8d0febf2348ea712b2b375ae95601d5f, RepairHelper_5e57ab95c762a48d9a126b104db1056f); end elseif(RepairHelper_24ac955e6ebcfac4ff4dd5c21c4bc6dd[RepairHelper_b962f54280c77029bc350c2b321adc64]) then if (InRepairMode()) then UseContainerItem(RepairHelper_8d0febf2348ea712b2b375ae95601d5f, RepairHelper_5e57ab95c762a48d9a126b104db1056f); end end end end end end end HideRepairCursor(); end local RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce = BLibrary("BEvent"); local RepairHelper_2599a8a72220ecad8e407dca99725b09 = BLibrary("BHook"); function RepairHelper_ToggleEnable(RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if ( RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1 ) then if (not RepairHelper_477b755cb5eedc79f8623b5eba69160a) then RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce:RegisterEvent("UPDATE_INVENTORY_ALERTS"); RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce:RegisterEvent("MERCHANT_SHOW"); RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce:RegisterEvent("MERCHANT_CLOSED"); RepairHelper_68785f36a657c3c5c9b30bb546dca1b0(); RepairHelper_2599a8a72220ecad8e407dca99725b09:HookScript(MerchantRepairAllButton, "OnClick", function() StaticPopup_Show("REPAIR_CONFIRM"); end); RepairHelper_477b755cb5eedc79f8623b5eba69160a = 1; end else if (RepairHelper_477b755cb5eedc79f8623b5eba69160a) then RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce:UnregisterEvent("UPDATE_INVENTORY_ALERTS"); RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce:UnregisterEvent("MERCHANT_SHOW"); RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce:UnregisterEvent("MERCHANT_CLOSED"); RepairHelper_2599a8a72220ecad8e407dca99725b09:UnhookScript(MerchantRepairAllButton, "OnClick"); RepairHelper_477b755cb5eedc79f8623b5eba69160a = nil; end end end function RepairHelper_ToggleAutoRepair(RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if (RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1) then RepairHelper_17b8442c8d8dfd017f34f021a43ec5f5 = 1; else RepairHelper_17b8442c8d8dfd017f34f021a43ec5f5 = nil; end end function RepairHelper_ToggleRepairAll(RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if ( RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1 ) then RepairHelper_ee5fe77fc257d8f74950d837b11a9c1d = 1; else RepairHelper_ee5fe77fc257d8f74950d837b11a9c1d = nil; end RepairHelper_b91844169a60cd552988d42e160ba07b = nil; RepairHelper_68785f36a657c3c5c9b30bb546dca1b0(); end function RepairHelper_ToggleUseGuild(RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae) if ( RepairHelper_7739b813d90aed43ab9d0eb84ec1c1ae == 1 ) then RepairHelper_2b7a1fd1d54718ee9dae5e165422107e = 1; else RepairHelper_2b7a1fd1d54718ee9dae5e165422107e = nil; end end function RepairHelper_OnLoad() RepairHelper_f0925d64d9039b2c90d4450ba6a9caff = bfGetLocalVariable; RepairHelper_0841e3788573bf9ba78cbf78c0768e31 = RepairHelperFrame; end function RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce.MERCHANT_SHOW() if (RepairHelper_477b755cb5eedc79f8623b5eba69160a and (RepairHelper_17b8442c8d8dfd017f34f021a43ec5f5 or RepairHelper_ee5fe77fc257d8f74950d837b11a9c1d)) then if ( CanMerchantRepair() ) then if ( RepairHelper_ee5fe77fc257d8f74950d837b11a9c1d or RepairHelper_b91844169a60cd552988d42e160ba07b ) then if ( RepairHelper_ee5fe77fc257d8f74950d837b11a9c1d ) then local RepairHelper_e8a118e3fcc8b4ab3118d4ed4fe6716a, RepairHelper_891a570f5e167d7abb5223e5b1e25754 = GetRepairAllCost(); if ( RepairHelper_e8a118e3fcc8b4ab3118d4ed4fe6716a > 0) then local useGuildMoney; if (RepairHelper_2b7a1fd1d54718ee9dae5e165422107e and CanGuildBankRepair()) then RepairAllItems(1); useGuildMoney = true; else RepairAllItems(); end ChatFrame1:AddMessage(RepairHelper_a7d9def48402c73415fe545d8e2a64fb(RepairHelper_e8a118e3fcc8b4ab3118d4ed4fe6716a, useGuildMoney), 1.0, 1.0, 0.0); RepairHelper_b91844169a60cd552988d42e160ba07b = nil; end else local RepairHelper_c147cd2766652433d2b69a8fb39e62bf = 0; for __index, RepairHelper_2361bab8b48b1041ad740bb561b21aee in pairs(RepairHelper_ff90f21f7d94be70e750fc59ae91fe80) do if ( RepairHelper_abd605481f5fb87b76a4080ef2783e4c[RepairHelper_2361bab8b48b1041ad740bb561b21aee] ) then RepairHelper_8d0febf2348ea712b2b375ae95601d5f, RepairHelper_10616c2a1fcee7376482e9d20c6718e8 = GetInventorySlotInfo(RepairHelper_abd605481f5fb87b76a4080ef2783e4c[RepairHelper_2361bab8b48b1041ad740bb561b21aee]); local RepairHelper_b22f9965791e485da9e11bef5197351f, RepairHelper_725d4af0085d0a168ebc9c08bb6e939e, RepairHelper_28f09ba84d130e74f74a88f36212ab5f = RepairHelperTooltip:SetInventoryItem("player", RepairHelper_8d0febf2348ea712b2b375ae95601d5f); if ( RepairHelper_b22f9965791e485da9e11bef5197351f and RepairHelper_28f09ba84d130e74f74a88f36212ab5f ) then ShowRepairCursor(); PickupInventoryItem(RepairHelper_8d0febf2348ea712b2b375ae95601d5f); RepairHelper_c147cd2766652433d2b69a8fb39e62bf = RepairHelper_c147cd2766652433d2b69a8fb39e62bf + RepairHelper_28f09ba84d130e74f74a88f36212ab5f; end end end HideRepairCursor(); if ( RepairHelper_c147cd2766652433d2b69a8fb39e62bf > 0 ) then local RepairHelper_4c5e2a6c497f2639f1590edb13036a7d = RepairHelper_a7d9def48402c73415fe545d8e2a64fb(RepairHelper_c147cd2766652433d2b69a8fb39e62bf); if ( RepairHelper_4c5e2a6c497f2639f1590edb13036a7d ) then ChatFrame1:AddMessage(RepairHelper_4c5e2a6c497f2639f1590edb13036a7d, 1.0, 1.0, 0.0); end RepairHelper_b91844169a60cd552988d42e160ba07b = nil; end RepairHelper_ff90f21f7d94be70e750fc59ae91fe80 = {}; end end end end end function RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce.MERCHANT_CLOSED() if (RepairHelper_Enabled) then StaticPopup_Hide("REPAIR_CONFIRM"); end end function RepairHelper_f831a0c20ec91ce93b4bf887d6f745ce.UPDATE_INVENTORY_ALERTS() RepairHelper_68785f36a657c3c5c9b30bb546dca1b0(); end function RepairHelper_68785f36a657c3c5c9b30bb546dca1b0() RepairHelper_ff90f21f7d94be70e750fc59ae91fe80 = {}; for __index, RepairHelper_2361bab8b48b1041ad740bb561b21aee in pairs(INVENTORY_ALERT_STATUS_SLOTS) do RepairHelper_e0e85008d0859db6bb769f09cf1b7b30 = INVENTORY_ALERT_COLORS[GetInventoryAlertStatus(__index)]; if ( RepairHelper_e0e85008d0859db6bb769f09cf1b7b30 ) then table.insert(RepairHelper_ff90f21f7d94be70e750fc59ae91fe80, __index); RepairHelper_b91844169a60cd552988d42e160ba07b = 1; end end end function RepairHelper_a7d9def48402c73415fe545d8e2a64fb(RepairHelper_2361bab8b48b1041ad740bb561b21aee, RepairHelper_eaa9453bc0bc57c351d07355f7fb5126) local RepairHelper_f4e13e8ecf20422833dd2d694a22bf40 = tonumber(RepairHelper_2361bab8b48b1041ad740bb561b21aee); if ( RepairHelper_f4e13e8ecf20422833dd2d694a22bf40 == nil ) then return nil; end local RepairHelper_e8b199d6656a0d100a2cef18cd77aef5 = math.floor(RepairHelper_f4e13e8ecf20422833dd2d694a22bf40/10000); RepairHelper_f4e13e8ecf20422833dd2d694a22bf40 = RepairHelper_f4e13e8ecf20422833dd2d694a22bf40 - RepairHelper_e8b199d6656a0d100a2cef18cd77aef5*10000; local RepairHelper_24a4201c549bfbd7ba558ebfca17c262 = math.floor(RepairHelper_f4e13e8ecf20422833dd2d694a22bf40/100); RepairHelper_f4e13e8ecf20422833dd2d694a22bf40 = RepairHelper_f4e13e8ecf20422833dd2d694a22bf40 - RepairHelper_24a4201c549bfbd7ba558ebfca17c262*100; local RepairHelper_1212036899db090a683c1f070e6c4196 = RepairHelper_f4e13e8ecf20422833dd2d694a22bf40; local RepairHelper_c073decd77f86a53128a189abe1f48ec; local RepairHelper_e2cec61c0df9d482a10f1e51cae1e21b = ""; if (RepairHelper_eaa9453bc0bc57c351d07355f7fb5126) then RepairHelper_e2cec61c0df9d482a10f1e51cae1e21b = REPAIRHELPER_GUILD_MONEY; end if ( RepairHelper_e8b199d6656a0d100a2cef18cd77aef5 > 0 ) then RepairHelper_c073decd77f86a53128a189abe1f48ec = string.format(REPAIRHELPER_FORMAT_MONEY_GOLD, RepairHelper_e8b199d6656a0d100a2cef18cd77aef5, RepairHelper_24a4201c549bfbd7ba558ebfca17c262, RepairHelper_1212036899db090a683c1f070e6c4196, RepairHelper_e2cec61c0df9d482a10f1e51cae1e21b); elseif ( RepairHelper_24a4201c549bfbd7ba558ebfca17c262 > 0 ) then RepairHelper_c073decd77f86a53128a189abe1f48ec = string.format(REPAIRHELPER_FORMAT_MONEY_SILVER, RepairHelper_24a4201c549bfbd7ba558ebfca17c262, RepairHelper_1212036899db090a683c1f070e6c4196, RepairHelper_e2cec61c0df9d482a10f1e51cae1e21b); elseif ( RepairHelper_1212036899db090a683c1f070e6c4196 > 0 ) then RepairHelper_c073decd77f86a53128a189abe1f48ec = string.format(REPAIRHELPER_FORMAT_MONEY_COPPER, RepairHelper_1212036899db090a683c1f070e6c4196, RepairHelper_e2cec61c0df9d482a10f1e51cae1e21b); end return RepairHelper_c073decd77f86a53128a189abe1f48ec; end
