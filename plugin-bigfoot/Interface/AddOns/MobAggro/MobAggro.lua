 MOBAGGRO_UPDATE_INTERVAL = 0.1; MOBAGGRO_FLASH_TEXT_INTERVAL = 0.3; if (GetLocale() == "zhCN") then MOB_AGGRO_ENABLE_TEXT = "开启怪物目标"; MOB_AGGRO_HELP = "开启该功能可以使你能够监视怪物的目标并给予相应的警告。该监视窗口位于目标头像下方，你也可以通过按住Shift键来拖动该监视窗口。"; MOB_AGGRO_HELP_TITLE = "怪物目标"; MOB_AGGRO_HELP_DESC = "显示怪物的目标并在某种情况下给予警告，你可通过右键点击探出菜单设置选项。按住Shift键可以拖动该监视窗口到你想要的位置。"; MOB_AGGRO_FONT = "Fonts\\ZYKai_T.TTF"; MOB_AGGRO_MENU_WINDOW = "窗口"; MOB_AGGRO_MENU_ANCHOR_WINDOW = "停靠窗口"; MOB_AGGRO_MENU_MODE = "模式"; MOB_AGGRO_MENU_MODE_TANK = "坦克模式"; MOB_AGGRO_MENU_MODE_DPS = "DPS模式"; MOB_AGGRO_MENU_MODE_HEALER = "治疗模式"; MOB_AGGRO_MENU_MODE_MONITOR = "监控模式"; MOB_AGGRO_MENU_OPTION = "选项"; MOB_AGGRO_MENU_SOUND_WARNING = "声音警告"; MOB_AGGRO_MENU_TEXT_WARNING = "文字警告"; MOB_AGGRO_MENU_TANK_TITLE = "监控列表"; MOB_AGGRO_MENU_MONITOR_OPTION = "监控模式选项"; MOB_AGGRO_MENU_MONITOR_ADD_TANK = "增加监控者"; MOB_AGGRO_MENU_MONITOR_DELETE_TANK = "删除监控者"; MOB_AGGRO_MENU_MONITOR_CLEAR_TANK = "清空监控列表"; MOB_AGGRO_MENU_AUTO_WHISPER = "开启自动密语功能"; MOB_AGGRO_WHISPER_TEXT_TITLE = "请设置你要密语给造成OT的人的话语："; MOB_AGGRO_ADD_TANK_TEXT = "请输入你要添加的监控者的名字："; MOB_AGGRO_CLEAR_TANK_TEXT = "监控列表将要被清空！你确信要这样做吗？"; MOB_AGGRO_WARNING_TEXT = "%s已经将目标转向%s"; MobAggro_67d5e2fa104ab40987d21eb444c50cae = "你"; MobAggro_8b95f62afdb2c5e79f127c7418887459 = "＊ 无目标 ＊"; MobAggro_a82765dc2fdc4777b419ef8324543fe7 = "＊＊ %s ＊＊"; elseif (GetLocale() == "zhTW") then MOB_AGGRO_ENABLE_TEXT = "開啓怪物目標"; MOB_AGGRO_HELP = "開啓該功能可以使你能夠監視怪物的目標並給予相應的警告。該監視窗口位于目標頭像下方，你也可以通過按住Shift鍵來拖動該監視窗口。"; MOB_AGGRO_HELP_TITLE = "怪物目標"; MOB_AGGRO_HELP_DESC = "顯示怪物的目標並在某種情況下給予警告，你可通過右鍵點擊探出菜單設置選項。按住Shift鍵可以拖動該監視窗口到你想要的位置。"; MOB_AGGRO_FONT = "Fonts\\bLEI00D.TTF"; MOB_AGGRO_MENU_WINDOW = "窗口"; MOB_AGGRO_MENU_ANCHOR_WINDOW = "停靠窗口"; MOB_AGGRO_MENU_MODE = "模式"; MOB_AGGRO_MENU_MODE_TANK = "坦克模式"; MOB_AGGRO_MENU_MODE_DPS = "DPS模式"; MOB_AGGRO_MENU_MODE_HEALER = "治療模式"; MOB_AGGRO_MENU_MODE_MONITOR = "監控模式"; MOB_AGGRO_MENU_OPTION = "選項"; MOB_AGGRO_MENU_SOUND_WARNING = "聲音警告"; MOB_AGGRO_MENU_TEXT_WARNING = "文字警告"; MOB_AGGRO_MENU_TANK_TITLE = "監控列表"; MOB_AGGRO_MENU_MONITOR_OPTION = "監控模式選項"; MOB_AGGRO_MENU_MONITOR_ADD_TANK = "增加監控者"; MOB_AGGRO_MENU_MONITOR_DELETE_TANK = "刪除監控者"; MOB_AGGRO_MENU_MONITOR_CLEAR_TANK = "清空監控列表"; MOB_AGGRO_MENU_AUTO_WHISPER = "開啟自動密語功能"; MOB_AGGRO_WHISPER_TEXT_TITLE = "請設置你要密語給造成OT的人的話語："; MOB_AGGRO_ADD_TANK_TEXT = "請輸入你要添加的監控者的名字："; MOB_AGGRO_CLEAR_TANK_TEXT = "監控列表將要被清空！你確信要這樣做嗎？"; MOB_AGGRO_WARNING_TEXT = "%s已經將目標轉向%s"; MobAggro_67d5e2fa104ab40987d21eb444c50cae = "你"; MobAggro_8b95f62afdb2c5e79f127c7418887459 = "＊ 無目標 ＊"; MobAggro_a82765dc2fdc4777b419ef8324543fe7 = "＊＊ %s ＊＊"; else MOB_AGGRO_ENABLE_TEXT = "Enable MobAggro"; MOB_AGGRO_HELP = "Help you monitor the target of mob and give reposible warning. The monitor window locates below the target window. You can move it by draging with holding shift key."; MOB_AGGRO_HELP_TITLE = "Mob Target"; MOB_AGGRO_HELP_DESC = "Help you monitor the target of mob and give reposible warning. The monitor window locates below the target window. You can move it by draging with holding shift key."; MOB_AGGRO_FONT = "Fonts\\ARIALN.TTF"; MOB_AGGRO_MENU_WINDOW = "Window"; MOB_AGGRO_MENU_ANCHOR_WINDOW = "Dock Window"; MOB_AGGRO_MENU_MODE = "Mode"; MOB_AGGRO_MENU_MODE_TANK = "Tank"; MOB_AGGRO_MENU_MODE_DPS = "DPS"; MOB_AGGRO_MENU_MODE_HEALER = "Healer"; MOB_AGGRO_MENU_MODE_MONITOR = "observer"; MOB_AGGRO_MENU_OPTION = "Options"; MOB_AGGRO_MENU_SOUND_WARNING = "Sound Warning"; MOB_AGGRO_MENU_TEXT_WARNING = "Text Warning"; MOB_AGGRO_MENU_TANK_TITLE = "Tank List"; MOB_AGGRO_MENU_MONITOR_OPTION = "Observer Options"; MOB_AGGRO_MENU_MONITOR_ADD_TANK = "Add Observer"; MOB_AGGRO_MENU_MONITOR_DELETE_TANK = "Delete Observer"; MOB_AGGRO_MENU_MONITOR_CLEAR_TANK = "Clear Observer List"; MOB_AGGRO_MENU_AUTO_WHISPER = "Enable Auto-whisper"; MOB_AGGRO_WARNING_TEXT = "%s's target has changed to %s"; MOB_AGGRO_WHISPER_TEXT_TITLE = "Please set up the message you want to whisper:"; MOB_AGGRO_ADD_TANK_TEXT = "Please type the name of observer:"; MOB_AGGRO_CLEAR_TANK_TEXT = "The Observer List will be cleared! Are you sure you want to do it?"; MobAggro_67d5e2fa104ab40987d21eb444c50cae = "You"; MobAggro_8b95f62afdb2c5e79f127c7418887459 = "＊ No Target ＊"; MobAggro_a82765dc2fdc4777b419ef8324543fe7 = "＊＊ %s ＊＊"; end MobAggro_Config = { PlaySound = 1, WarningType = "dps", ShowText = 0, AnchorMode = 1, AnchorOffsetX = 0, AnchorOffsetY = 0, TextColor = {r = 1.0, g = 0.0, b = 0.0}, TankList = {n = 0}, }; MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9 = {r = 1.0, g = 1.0, b = 1.0}; MobAggro_ea85a007daab4a3f7a66115ee4923352 = {r = 1.0, g = 0.0, b = 0.0}; MobAggro_f4dc7b462cbfcef2303998deaf7262c5 = nil; MobAggro_9a5de9065b724400c44446d554118fe3 = nil; MobAggro_0fb31b1e88540b09b35a982d8d972f28 = nil; MobAggro_678364999270cf249fced2b2a04b4bd7 = nil; MobAggro_24e6eae47dd4911f5119450caf60e34f = 8; MobAggro_45b59d8ae4e2d62df220185d825d79ec = 0; MobAggro_e28572765d0597b80a2260b11df30ee9 = 0; MobAggro_f680c3f222dc5dce433b9ff13a7bb227 = nil; StaticPopupDialogs["MOB_AGGRO_CLEAR_TANK"] = { text = TEXT(MOB_AGGRO_CLEAR_TANK_TEXT), button1 = TEXT(YES), button2 = TEXT(NO), OnAccept = function() MobAggro_Config.TankList = {n = 0}; end, timeout = 0, exclusive = 1, hideOnEscape = 1 }; StaticPopupDialogs["MOB_AGGRO_ADD_TANK"] = { text = TEXT(MOB_AGGRO_ADD_TANK_TEXT), button1 = TEXT(ACCEPT), button2 = TEXT(CANCEL), hasEditBox = 1, maxLetters = 60, OnAccept = function(self) local MobAggro_9c987de176f2b454baede402cee36bfa = self.editBox:GetText(); for MobAggro_413bf9c15ce77baa8ebf1cda4cbf4887, MobAggro_2361bab8b48b1041ad740bb561b21aee in pairs(MobAggro_Config.TankList) do if (MobAggro_2361bab8b48b1041ad740bb561b21aee == MobAggro_9c987de176f2b454baede402cee36bfa) then return; end end table.insert(MobAggro_Config.TankList, MobAggro_9c987de176f2b454baede402cee36bfa); end, OnShow = function(self) self.editBox:SetFocus(); end, OnHide = function(self) if ( ChatFrameEditBox:IsVisible() ) then ChatFrameEditBox:SetFocus(); end self.editBox:SetText(""); end, EditBoxOnEnterPressed = function(self) local MobAggro_9c987de176f2b454baede402cee36bfa = self.editBox:GetText(); for MobAggro_413bf9c15ce77baa8ebf1cda4cbf4887, MobAggro_2361bab8b48b1041ad740bb561b21aee in pairs(MobAggro_Config.TankList) do if (MobAggro_2361bab8b48b1041ad740bb561b21aee == MobAggro_9c987de176f2b454baede402cee36bfa) then return; end end if (MobAggro_2361bab8b48b1041ad740bb561b21aee ~= "") then table.insert(MobAggro_Config.TankList, MobAggro_9c987de176f2b454baede402cee36bfa); end self:GetParent():Hide(); end, EditBoxOnEscapePressed = function(self) self:GetParent():Hide(); end, timeout = 0, exclusive = 1, hideOnEscape = 1 }; StaticPopupDialogs["MOB_AGGRO_WHISPER_TEXT"] = { text = TEXT(MOB_AGGRO_WHISPER_TEXT_TITLE), button1 = TEXT(ACCEPT), button2 = TEXT(CANCEL), hasEditBox = 1, hasWideEditBox = 1, maxLetters = 128, OnAccept = function(self) local editBox = getglobal(self:GetName().."WideEditBox"); MobAggro_Config.WhisperText = editBox:GetText(); end, OnShow = function(self) getglobal(self:GetName().."WideEditBox"):SetFocus(); if (MobAggro_Config.WhisperText) then getglobal(self:GetName().."WideEditBox"):SetText(MobAggro_Config.WhisperText); end self:SetWidth(420); end, OnHide = function(self) if ( ChatFrameEditBox:IsVisible() ) then ChatFrameEditBox:SetFocus(); end getglobal(self:GetName().."WideEditBox"):SetText(""); end, EditBoxOnEnterPressed = function(self) local editBox = getglobal(self:GetName().."WideEditBox"); MobAggro_Config.WhisperText = editBox:GetText(); self:GetParent():Hide(); end, EditBoxOnEscapePressed = function(self) self:GetParent():Hide(); end, timeout = 0, exclusive = 1, hideOnEscape = 1 }; function MobAggroFrame_OnLoad(self) self:RegisterForClicks("RightButtonUp"); end function MobAggro_Toggle(toggle) if (toggle) then MobAggroFrame:RegisterEvent("PLAYER_TARGET_CHANGED"); MobAggroFrame:RegisterEvent("UNIT_AURA"); MobAggroNotifyBar:SetMinMaxValues(0, 100); MobAggroNotifyBar:SetValue(0); else MobAggroFrame:UnregisterEvent("PLAYER_TARGET_CHANGED"); MobAggroFrame:UnregisterEvent("UNIT_AURA"); MobAggro_afb64a714bd58ab03e2e004f4e778490(); end end function MobAggroFrame_OnClick(self, button) if (button == "RightButton") then BToggleDropDownMenu(1, nil, MobAggroFrameDropDown, "MobAggroFrame", 0, 5); end end function MobAggroFrame_OnEnter(self) GameTooltip_AddNewbieTip(self, MOB_AGGRO_HELP_TITLE, 1.0, 1.0, 1.0, MOB_AGGRO_HELP_DESC); end function MobAggro_a1a7f8e7b5f40d65ce77e52c8ea5cff8() if (MobAggro_Config.TextColor) then return MobAggro_Config.TextColor; else MobAggro_Config.TextColor = {r = 1.0, g = 0.0, b = 0.0}; return MobAggro_Config.TextColor; end end function MobAggro_b999d2079cffc6c1cf4173b12c8014cd(MobAggro_3ae1f2c4b38d5f7c356b4cdb7c6e4027, MobAggro_0f402d7ba502a47a51c410aee99b1ff1, MobAggro_a0a053cacf1c8c43346fdc3adb684cb7) if (not MobAggro_Config.TextColor) then MobAggro_Config.TextColor = {}; end MobAggro_Config.TextColor.r = MobAggro_3ae1f2c4b38d5f7c356b4cdb7c6e4027; MobAggro_Config.TextColor.g = MobAggro_0f402d7ba502a47a51c410aee99b1ff1; MobAggro_Config.TextColor.b = MobAggro_a0a053cacf1c8c43346fdc3adb684cb7; end function MobAggroFrame_OnEvent(self, MobAggro_d0708241b607c9a9dd1953c812fadfb7, MobAggro_0e2babf2e3097eec96cf9280d1412ab5, MobAggro_00ae4bc475ffbcf97f789256a2e707de, MobAggro_6599f8c6a1b53d0212dfbab04e14e329, MobAggro_18bd17b74c56bfd23801044c9c9e8d4e) if (MobAggro_d0708241b607c9a9dd1953c812fadfb7 == "PLAYER_TARGET_CHANGED") then local MobAggro_3551ed4295844a0f3813507d9f64e4c3, MobAggro_a989a1829848b98a3554eaa01b0cc5b8, MobAggro_f897f2e099a64c92cc66909fc41d8477 = MobAggro_703f2601cf72cec35cfd1ae389be39cc(); if (MobAggro_3551ed4295844a0f3813507d9f64e4c3) then MobAggro_f4dc7b462cbfcef2303998deaf7262c5 = GetUnitName(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); MobAggro_6a2963c890e7190f5ae4b23632134901(MobAggro_a989a1829848b98a3554eaa01b0cc5b8, MobAggro_f897f2e099a64c92cc66909fc41d8477); MobAggro_UpdateTarget(self, MobAggro_a989a1829848b98a3554eaa01b0cc5b8, MobAggro_f897f2e099a64c92cc66909fc41d8477); else MobAggro_f4dc7b462cbfcef2303998deaf7262c5 = nil; MobAggro_9a5de9065b724400c44446d554118fe3 = nil; MobAggro_53c3d4ef8451819dea80d9e13a995d7d("targettarget"); end elseif (MobAggro_d0708241b607c9a9dd1953c812fadfb7 == "MOBAGGRO_AGGRO_CHANGED") then MobAggro_a6aac1c42f824a794874260b0239461c(MobAggro_0e2babf2e3097eec96cf9280d1412ab5, MobAggro_00ae4bc475ffbcf97f789256a2e707de, MobAggro_6599f8c6a1b53d0212dfbab04e14e329); MobAggro_53c3d4ef8451819dea80d9e13a995d7d(MobAggro_18bd17b74c56bfd23801044c9c9e8d4e); end end function MobAggro_UpdateTarget(self, MobAggro_a989a1829848b98a3554eaa01b0cc5b8, MobAggro_f897f2e099a64c92cc66909fc41d8477) if (not MobAggro_a989a1829848b98a3554eaa01b0cc5b8) then return; end local MobAggro_8983c60d66c8593ec7165ea9dbedb584 = GetUnitName(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); local MobAggro_0e2babf2e3097eec96cf9280d1412ab5, MobAggro_00ae4bc475ffbcf97f789256a2e707de, MobAggro_6599f8c6a1b53d0212dfbab04e14e329, MobAggro_18bd17b74c56bfd23801044c9c9e8d4e; if (MobAggro_8983c60d66c8593ec7165ea9dbedb584 and MobAggro_f4dc7b462cbfcef2303998deaf7262c5 ~= MobAggro_8983c60d66c8593ec7165ea9dbedb584) then MobAggro_0e2babf2e3097eec96cf9280d1412ab5 = MobAggro_58de9a1abb2ef02be1d14423bc6ffd39(MobAggro_8983c60d66c8593ec7165ea9dbedb584); MobAggro_00ae4bc475ffbcf97f789256a2e707de = MobAggro_58de9a1abb2ef02be1d14423bc6ffd39(MobAggro_f4dc7b462cbfcef2303998deaf7262c5); MobAggro_6599f8c6a1b53d0212dfbab04e14e329 = GetUnitName(MobAggro_f897f2e099a64c92cc66909fc41d8477); MobAggro_18bd17b74c56bfd23801044c9c9e8d4e = MobAggro_a989a1829848b98a3554eaa01b0cc5b8; MobAggro_f4dc7b462cbfcef2303998deaf7262c5 = MobAggro_8983c60d66c8593ec7165ea9dbedb584; MobAggroFrame_OnEvent(self, "MOBAGGRO_AGGRO_CHANGED", MobAggro_0e2babf2e3097eec96cf9280d1412ab5, MobAggro_00ae4bc475ffbcf97f789256a2e707de, MobAggro_6599f8c6a1b53d0212dfbab04e14e329, MobAggro_18bd17b74c56bfd23801044c9c9e8d4e); elseif (not MobAggro_8983c60d66c8593ec7165ea9dbedb584 and MobAggro_f4dc7b462cbfcef2303998deaf7262c5) then MobAggro_0e2babf2e3097eec96cf9280d1412ab5 = nil; MobAggro_00ae4bc475ffbcf97f789256a2e707de = MobAggro_58de9a1abb2ef02be1d14423bc6ffd39(MobAggro_f4dc7b462cbfcef2303998deaf7262c5); MobAggro_6599f8c6a1b53d0212dfbab04e14e329 = GetUnitName(MobAggro_f897f2e099a64c92cc66909fc41d8477); MobAggro_18bd17b74c56bfd23801044c9c9e8d4e = MobAggro_a989a1829848b98a3554eaa01b0cc5b8; MobAggro_f4dc7b462cbfcef2303998deaf7262c5 = nil; MobAggroFrame_OnEvent(self, "MOBAGGRO_AGGRO_CHANGED", MobAggro_0e2babf2e3097eec96cf9280d1412ab5, MobAggro_00ae4bc475ffbcf97f789256a2e707de, MobAggro_6599f8c6a1b53d0212dfbab04e14e329, MobAggro_18bd17b74c56bfd23801044c9c9e8d4e); end end function MobAggroFrame_OnHide() MobAggroText:SetTextColor(MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.r, MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.g, MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.b); end function MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf(MobAggro_6d5e7d83d8358745ae4dcf61d16bd1f3) if (MobAggro_6d5e7d83d8358745ae4dcf61d16bd1f3 == "dps") then MobAggroDPSFrame:Show(); MobAggroTankFrame:Hide(); MobAggroWarningFrame:Hide(); MobAggroHealerFrame:Hide(); elseif (MobAggro_6d5e7d83d8358745ae4dcf61d16bd1f3 == "tank") then MobAggroDPSFrame:Hide(); MobAggroTankFrame:Show(); MobAggroWarningFrame:Hide(); MobAggroHealerFrame:Hide(); elseif (MobAggro_6d5e7d83d8358745ae4dcf61d16bd1f3 == "healer") then MobAggroDPSFrame:Hide(); MobAggroTankFrame:Hide(); MobAggroWarningFrame:Hide(); MobAggroHealerFrame:Show(); elseif (MobAggro_6d5e7d83d8358745ae4dcf61d16bd1f3 == "warning") then MobAggroDPSFrame:Hide(); MobAggroTankFrame:Hide(); MobAggroWarningFrame:Show(); MobAggroHealerFrame:Hide(); elseif (MobAggro_6d5e7d83d8358745ae4dcf61d16bd1f3 == "monitor") then MobAggroDPSFrame:Show(); MobAggroTankFrame:Hide(); MobAggroWarningFrame:Hide(); MobAggroHealerFrame:Hide(); else MobAggroDPSFrame:Hide(); MobAggroTankFrame:Hide(); MobAggroWarningFrame:Hide(); MobAggroHealerFrame:Hide(); end end function MobAggro_26de3657658ae879a70f1652ace48013() if (UnitExists("target")) then MobAggroFrame:ClearAllPoints(); MobAggroFrame:SetPoint("TOPLEFT", "TargetFrame", "BOTTOMLEFT", 122, 15); end end function MobAggro_58de9a1abb2ef02be1d14423bc6ffd39(MobAggro_8983c60d66c8593ec7165ea9dbedb584) if (GetUnitName("player") == MobAggro_8983c60d66c8593ec7165ea9dbedb584) then return MobAggro_67d5e2fa104ab40987d21eb444c50cae; else return MobAggro_8983c60d66c8593ec7165ea9dbedb584; end end function MobAggro_98b0c900f17ae4a327a3363c230be94a(MobAggro_8983c60d66c8593ec7165ea9dbedb584) if (GetUnitName("player") == MobAggro_8983c60d66c8593ec7165ea9dbedb584) then return string.format(MobAggro_a82765dc2fdc4777b419ef8324543fe7, MobAggro_67d5e2fa104ab40987d21eb444c50cae); else return MobAggro_8983c60d66c8593ec7165ea9dbedb584; end end function MobAggroFrame_OnUpdate(self, MobAggro_9a2474218860c0816af6c2bfe48d200a) if (self.MobAggro_01c1d8f50beaf93a3f8738830b32ee5a) then self.MobAggro_01c1d8f50beaf93a3f8738830b32ee5a = self.MobAggro_01c1d8f50beaf93a3f8738830b32ee5a + MobAggro_9a2474218860c0816af6c2bfe48d200a; if (self.MobAggro_01c1d8f50beaf93a3f8738830b32ee5a > MOBAGGRO_UPDATE_INTERVAL) then MobAggro_83a8cf1a0312406cc1ba2b7244bd3cbb(MobAggroFrame.MobAggro_a989a1829848b98a3554eaa01b0cc5b8); MobAggro_UpdateTarget(self, MobAggroFrame.MobAggro_a989a1829848b98a3554eaa01b0cc5b8, MobAggroFrame.MobAggro_f897f2e099a64c92cc66909fc41d8477); self.MobAggro_01c1d8f50beaf93a3f8738830b32ee5a = 0; end else self.MobAggro_01c1d8f50beaf93a3f8738830b32ee5a = 0; end if (self.MobAggro_fadd1d602cc7f1d6d10ba65ae1fc19a9) then self.MobAggro_fadd1d602cc7f1d6d10ba65ae1fc19a9 = self.MobAggro_fadd1d602cc7f1d6d10ba65ae1fc19a9 + MobAggro_9a2474218860c0816af6c2bfe48d200a; if (self.MobAggro_fadd1d602cc7f1d6d10ba65ae1fc19a9 > MOBAGGRO_FLASH_TEXT_INTERVAL) then if (MobAggro_9a5de9065b724400c44446d554118fe3) then if (MobAggro_83d48c8fa85454fdd1b7386fe4c1efc8) then MobAggroText:SetTextColor(MobAggro_ea85a007daab4a3f7a66115ee4923352.r, MobAggro_ea85a007daab4a3f7a66115ee4923352.g, MobAggro_ea85a007daab4a3f7a66115ee4923352.b); MobAggro_83d48c8fa85454fdd1b7386fe4c1efc8 = nil; else MobAggroText:SetTextColor(MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.r, MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.g, MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.b); MobAggro_83d48c8fa85454fdd1b7386fe4c1efc8 = 1; end end self.MobAggro_fadd1d602cc7f1d6d10ba65ae1fc19a9 = 0; end else self.MobAggro_fadd1d602cc7f1d6d10ba65ae1fc19a9 = 0; end end function MobAggro_703f2601cf72cec35cfd1ae389be39cc() if (UnitExists("target") and UnitIsFriend("player", "target")) then if (UnitIsConnected("target") and not UnitIsDeadOrGhost("target")) then if (UnitExists("targettarget") and not UnitIsDead("targettarget") and GetUnitName("player") ~= GetUnitName("target")) then return 1, "targettarget", "target"; end end else if (UnitExists("target") and not UnitIsDead("target")) then return 1, "targettarget", "target"; end end end function MobAggro_6a2963c890e7190f5ae4b23632134901(MobAggro_a989a1829848b98a3554eaa01b0cc5b8, MobAggro_f897f2e099a64c92cc66909fc41d8477) MobAggroFrame.MobAggro_a989a1829848b98a3554eaa01b0cc5b8 = MobAggro_a989a1829848b98a3554eaa01b0cc5b8; MobAggroFrame.MobAggro_f897f2e099a64c92cc66909fc41d8477 = MobAggro_f897f2e099a64c92cc66909fc41d8477; MobAggro_53c3d4ef8451819dea80d9e13a995d7d(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); if (not InCombatLockdown()) then MobAggroFrame:Show(); end end function MobAggro_83a8cf1a0312406cc1ba2b7244bd3cbb(MobAggro_a989a1829848b98a3554eaa01b0cc5b8) if (not MobAggro_a989a1829848b98a3554eaa01b0cc5b8) then return; end local MobAggro_db2e34bc03f375a2abda68fc28730133 = UnitHealth(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); if (MobAggro_db2e34bc03f375a2abda68fc28730133) then MobAggroNotifyBar:SetValue(MobAggro_db2e34bc03f375a2abda68fc28730133); end end function MobAggro_53c3d4ef8451819dea80d9e13a995d7d(MobAggro_a989a1829848b98a3554eaa01b0cc5b8) local MobAggro_8983c60d66c8593ec7165ea9dbedb584 = GetUnitName(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); if (MobAggro_8983c60d66c8593ec7165ea9dbedb584) then local MobAggro_f74a5efdef6c8a36eac58e2853c103e2 = UnitHealthMax(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); local MobAggro_db2e34bc03f375a2abda68fc28730133 = UnitHealth(MobAggro_a989a1829848b98a3554eaa01b0cc5b8); MobAggroText:SetText(MobAggro_98b0c900f17ae4a327a3363c230be94a(MobAggro_8983c60d66c8593ec7165ea9dbedb584)); MobAggroNotifyBar:SetMinMaxValues(0, MobAggro_f74a5efdef6c8a36eac58e2853c103e2); MobAggroNotifyBar:SetValue(MobAggro_db2e34bc03f375a2abda68fc28730133); if (MobAggro_9a5de9065b724400c44446d554118fe3) then MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf("warning"); else MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf(MobAggro_Config.WarningType); end else MobAggroText:SetText(MobAggro_8b95f62afdb2c5e79f127c7418887459); MobAggroNotifyBar:SetMinMaxValues(0, 100); MobAggroNotifyBar:SetValue(0); MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf(MobAggro_Config.WarningType); end end function MobAggro_afb64a714bd58ab03e2e004f4e778490() if (InCombatLockdown()) then BigFoot_DelayCall(MobAggro_afb64a714bd58ab03e2e004f4e778490, 1); return; end MobAggroFrame:Hide(); MobAggroFrame.MobAggro_a989a1829848b98a3554eaa01b0cc5b8 = nil; end function MobAggro_a6aac1c42f824a794874260b0239461c(MobAggro_6e8dc5aa94af692df905904c5757e4f2, MobAggro_f944b6386a0fc506e2d4dfe5a41fdfc8, MobAggro_cbc05bf9ebc5ba93b2fb72fec690c5f1) if (MobAggro_6e8dc5aa94af692df905904c5757e4f2) then if (MobAggro_Config.WarningType == "monitor" and MobAggro_73583592e885ed8df776786e671da617(MobAggro_6e8dc5aa94af692df905904c5757e4f2)) then if (MobAggro_Config.PlaySound) then PlaySoundFile("Sound\\Doodad\\BellTollNightElf.wav"); end MobAggro_9a5de9065b724400c44446d554118fe3 = 1; local MobAggro_eed0be1c2d5f65980b06b5094460c3c5 = string.format(MOB_AGGRO_WARNING_TEXT, MobAggro_cbc05bf9ebc5ba93b2fb72fec690c5f1, MobAggro_6e8dc5aa94af692df905904c5757e4f2); MobAggro_6f8b02e403278ab1d7e46d43940039f9(MobAggro_eed0be1c2d5f65980b06b5094460c3c5); if (MobAggro_Config.AutoWhisper) then MobAggro_45d011dddc45421efa2f549bc285520d(MobAggro_6e8dc5aa94af692df905904c5757e4f2, MobAggro_Config.WhisperText); end elseif ((MobAggro_Config.WarningType == "dps" or MobAggro_Config.WarningType == "healer") and MobAggro_6e8dc5aa94af692df905904c5757e4f2 == MobAggro_67d5e2fa104ab40987d21eb444c50cae and MobAggro_f944b6386a0fc506e2d4dfe5a41fdfc8) then if (MobAggro_Config.PlaySound) then PlaySoundFile("Sound\\Doodad\\BellTollNightElf.wav"); end MobAggro_9a5de9065b724400c44446d554118fe3 = 1; local MobAggro_eed0be1c2d5f65980b06b5094460c3c5 = string.format(MOB_AGGRO_WARNING_TEXT, MobAggro_cbc05bf9ebc5ba93b2fb72fec690c5f1, MobAggro_6e8dc5aa94af692df905904c5757e4f2); MobAggro_6f8b02e403278ab1d7e46d43940039f9(MobAggro_eed0be1c2d5f65980b06b5094460c3c5); elseif (MobAggro_Config.WarningType == "tank" and MobAggro_f944b6386a0fc506e2d4dfe5a41fdfc8 == MobAggro_67d5e2fa104ab40987d21eb444c50cae) then if (MobAggro_Config.PlaySound) then PlaySoundFile("Sound\\Doodad\\BellTollNightElf.wav"); end MobAggro_9a5de9065b724400c44446d554118fe3 = 1; local MobAggro_eed0be1c2d5f65980b06b5094460c3c5 = string.format(MOB_AGGRO_WARNING_TEXT, MobAggro_cbc05bf9ebc5ba93b2fb72fec690c5f1, MobAggro_6e8dc5aa94af692df905904c5757e4f2); MobAggro_6f8b02e403278ab1d7e46d43940039f9(MobAggro_eed0be1c2d5f65980b06b5094460c3c5); else MobAggro_9a5de9065b724400c44446d554118fe3 = nil; MobAggroText:SetTextColor(MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.r, MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.g, MobAggro_d5cb5dbd547bb3251b25c1267caaf4c9.b); end end end function MobAggro_6f8b02e403278ab1d7e46d43940039f9(MobAggro_eed0be1c2d5f65980b06b5094460c3c5) if (MobAggro_Config.ShowText) then MobAggroWarningTextFrame:Show(); MobAggroWarningText:SetTextColor(MobAggro_Config.TextColor.r, MobAggro_Config.TextColor.g, MobAggro_Config.TextColor.b); MobAggroWarningText:SetText(MobAggro_eed0be1c2d5f65980b06b5094460c3c5); end end function MobAggroDropDown_OnLoad(self) BDropDownMenu_Initialize(self, MobAggro_33eb0c2e36e68b84c1491885f71f0728, "MENU"); end function MobAggro_33eb0c2e36e68b84c1491885f71f0728() local MobAggro_a44ecbf575d7f2eca081a0592e8d84fa; if ( BDROPDOWNMENU_MENU_LEVEL == 2 ) then if ( BDROPDOWNMENU_MENU_VALUE == MOB_AGGRO_MENU_MONITOR_DELETE_TANK ) then if (not MobAggro_Config.TankList) then MobAggro_Config.TankList = {n = 0}; end for MobAggro_e914904fab9d05d3f54d52bfc31a0f3f = 1, table.getn(MobAggro_Config.TankList), 1 do MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MobAggro_Config.TankList[MobAggro_e914904fab9d05d3f54d52bfc31a0f3f]; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.value = MobAggro_Config.TankList[MobAggro_e914904fab9d05d3f54d52bfc31a0f3f]; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_6e3c2ea6547ffbabebeffeab50e7eab6; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa, BDROPDOWNMENU_MENU_LEVEL); end end return; end if (not MobAggro_Config.AnchorMode) then MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_WINDOW; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.isTitle = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.notCheckable = 1; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_ANCHOR_WINDOW; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_ab9b9970e56f23e1857dbdf3664c90e9; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); end MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MODE; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.isTitle = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.notCheckable = 1; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MODE_DPS; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.value = 2; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_1b62bebf2039c5f7fee169f8ac2b5c49; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = (MobAggro_Config.WarningType == "dps"); BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MODE_TANK; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.value = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = (MobAggro_Config.WarningType == "tank"); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_1b62bebf2039c5f7fee169f8ac2b5c49; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MODE_HEALER; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.value = 3; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_1b62bebf2039c5f7fee169f8ac2b5c49; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = (MobAggro_Config.WarningType == "healer"); BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MODE_MONITOR; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.value = 4; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_1b62bebf2039c5f7fee169f8ac2b5c49; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = (MobAggro_Config.WarningType == "monitor"); BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_OPTION; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.isTitle = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.notCheckable = 1; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); local MobAggro_e0e85008d0859db6bb769f09cf1b7b30 = MobAggro_a1a7f8e7b5f40d65ce77e52c8ea5cff8(); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_TEXT_WARNING; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.keepShownOnClick = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.hasColorSwatch = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.r = MobAggro_e0e85008d0859db6bb769f09cf1b7b30.r; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.g = MobAggro_e0e85008d0859db6bb769f09cf1b7b30.g; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.b = MobAggro_e0e85008d0859db6bb769f09cf1b7b30.b; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.swatchFunc = MobAggro_a1baf4a1e76974f208289c84a37fe10f; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_ab7b6cbebce9aab96fa5560b951b9a76; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = MobAggro_Config.ShowText; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_SOUND_WARNING; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.keepShownOnClick = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_0745bdd84f6bf1b4166e73b069ad0d77; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = MobAggro_Config.PlaySound; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); if (MobAggro_Config.WarningType == "monitor") then MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_TANK_TITLE; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.isTitle = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.notCheckable = 1; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MONITOR_ADD_TANK; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_b5e655958e1518451d58d3aa59f701c6; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MONITOR_DELETE_TANK; if (not MobAggro_Config.TankList or table.getn(MobAggro_Config.TankList) == 0) then MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.disabled = 1; else MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.disabled = nil; end MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.hasArrow = 1; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MONITOR_CLEAR_TANK; if (not MobAggro_Config.TankList or table.getn(MobAggro_Config.TankList) == 0) then MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.disabled = 1; else MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.disabled = nil; end MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_c081a3598acc808ccab09463876c1749; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_MONITOR_OPTION; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.isTitle = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.notCheckable = 1; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); MobAggro_a44ecbf575d7f2eca081a0592e8d84fa = {}; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.text = MOB_AGGRO_MENU_AUTO_WHISPER; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.Checkable = 1; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.func = MobAggro_6f110b4cc7cf31e55fb448995b20ec32; MobAggro_a44ecbf575d7f2eca081a0592e8d84fa.checked = MobAggro_Config.AutoWhisper; BDropDownMenu_AddButton(MobAggro_a44ecbf575d7f2eca081a0592e8d84fa); end end function MobAggro_b5e655958e1518451d58d3aa59f701c6(self) StaticPopup_Show("MOB_AGGRO_ADD_TANK"); end function MobAggro_6e3c2ea6547ffbabebeffeab50e7eab6(self) if (self.value) then for MobAggro_413bf9c15ce77baa8ebf1cda4cbf4887, MobAggro_2361bab8b48b1041ad740bb561b21aee in pairs(MobAggro_Config.TankList) do if (MobAggro_2361bab8b48b1041ad740bb561b21aee == self.value) then table.remove(MobAggro_Config.TankList, MobAggro_413bf9c15ce77baa8ebf1cda4cbf4887); end end end end function MobAggro_c081a3598acc808ccab09463876c1749() StaticPopup_Show("MOB_AGGRO_CLEAR_TANK"); end function MobAggro_6f110b4cc7cf31e55fb448995b20ec32() if (MobAggro_Config.AutoWhisper) then MobAggro_Config.AutoWhisper = nil; else MobAggro_Config.AutoWhisper = 1; StaticPopup_Show("MOB_AGGRO_WHISPER_TEXT"); end end function MobAggro_a1baf4a1e76974f208289c84a37fe10f(self) local r,g,b = ColorPickerFrame:GetColorRGB(); MobAggro_b999d2079cffc6c1cf4173b12c8014cd(r, g, b); end function MobAggro_0745bdd84f6bf1b4166e73b069ad0d77(self) if (MobAggro_Config.PlaySound) then MobAggro_Config.PlaySound = nil; else MobAggro_Config.PlaySound = 1; PlaySoundFile("Sound\\Doodad\\BellTollNightElf.wav"); end end function MobAggro_ab7b6cbebce9aab96fa5560b951b9a76(self) if (MobAggro_Config.ShowText) then MobAggro_Config.ShowText = nil; else MobAggro_Config.ShowText = 1; end end function MobAggro_1b62bebf2039c5f7fee169f8ac2b5c49(self) if (self.value == 1) then MobAggro_Config.WarningType = "tank"; MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf("tank"); elseif (self.value == 2) then MobAggro_Config.WarningType = "dps"; MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf("dps"); elseif (self.value == 3) then MobAggro_Config.WarningType = "healer"; MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf("healer"); elseif (self.value == 4) then MobAggro_Config.WarningType = "monitor"; MobAggro_2e46bdb89bcaf39fc990aa174bb3acdf("monitor"); end end function MobAggro_ab9b9970e56f23e1857dbdf3664c90e9(self) MobAggro_26de3657658ae879a70f1652ace48013(); MobAggro_Config.AnchorMode = 1; end function MobAggroFrame_PreClick(self) if (MobAggroFrame.MobAggro_a989a1829848b98a3554eaa01b0cc5b8) then self:SetAttribute("unit", MobAggroFrame.MobAggro_a989a1829848b98a3554eaa01b0cc5b8); end end function MobAggro_73583592e885ed8df776786e671da617(MobAggro_9c987de176f2b454baede402cee36bfa) if (MobAggro_Config.TankList) then for MobAggro_413bf9c15ce77baa8ebf1cda4cbf4887, MobAggro_2361bab8b48b1041ad740bb561b21aee in pairs(MobAggro_Config.TankList) do if (MobAggro_9c987de176f2b454baede402cee36bfa == MobAggro_2361bab8b48b1041ad740bb561b21aee) then return nil; end end else MobAggro_Config.TankList = {n = 0}; end if (table.getn(MobAggro_Config.TankList) == 0) then return nil; end return 1; end function MobAggro_45d011dddc45421efa2f549bc285520d(MobAggro_9c987de176f2b454baede402cee36bfa, MobAggro_eed0be1c2d5f65980b06b5094460c3c5) if (MobAggro_9c987de176f2b454baede402cee36bfa ~= GetUnitName("player") and MobAggro_9c987de176f2b454baede402cee36bfa ~= MobAggro_67d5e2fa104ab40987d21eb444c50cae) then SendChatMessage(MobAggro_eed0be1c2d5f65980b06b5094460c3c5, "WHISPER", GetDefaultLanguage(), MobAggro_9c987de176f2b454baede402cee36bfa); end end function MobAggroWarningFrame_OnUpdate(self, MobAggro_9a2474218860c0816af6c2bfe48d200a) MobAggro_45b59d8ae4e2d62df220185d825d79ec = MobAggro_45b59d8ae4e2d62df220185d825d79ec + MobAggro_9a2474218860c0816af6c2bfe48d200a; MobAggro_e28572765d0597b80a2260b11df30ee9 = MobAggro_e28572765d0597b80a2260b11df30ee9 + MobAggro_9a2474218860c0816af6c2bfe48d200a; if (MobAggro_45b59d8ae4e2d62df220185d825d79ec > 0.05) then MobAggro_45b59d8ae4e2d62df220185d825d79ec = 0; local MobAggro_bf61cd56adaeb71abb1cdca2566cb62f = MobAggroWarningTextFrame:GetAlpha(); if (MobAggro_0fb31b1e88540b09b35a982d8d972f28) then MobAggro_bf61cd56adaeb71abb1cdca2566cb62f = MobAggro_bf61cd56adaeb71abb1cdca2566cb62f - 0.1; if (MobAggro_bf61cd56adaeb71abb1cdca2566cb62f < 0) then MobAggro_bf61cd56adaeb71abb1cdca2566cb62f = 0; MobAggro_0fb31b1e88540b09b35a982d8d972f28 = nil; if (not MobAggro_9a5de9065b724400c44446d554118fe3) then MobAggroWarningTextFrame:Hide(); end end else MobAggro_bf61cd56adaeb71abb1cdca2566cb62f = MobAggro_bf61cd56adaeb71abb1cdca2566cb62f + 0.1; if (MobAggro_bf61cd56adaeb71abb1cdca2566cb62f > 1) then MobAggro_bf61cd56adaeb71abb1cdca2566cb62f = 1; MobAggro_0fb31b1e88540b09b35a982d8d972f28 = 1; end end MobAggroWarningTextFrame:SetAlpha(MobAggro_bf61cd56adaeb71abb1cdca2566cb62f); end end function MobAggroWarningFrame_OnShow() MobAggro_0fb31b1e88540b09b35a982d8d972f28 = nil; MobAggroWarningTextFrame:SetAlpha(0); MobAggro_45b59d8ae4e2d62df220185d825d79ec = 0; MobAggro_e28572765d0597b80a2260b11df30ee9 = 0; end function MobAggroWarningFrame_OnHide() MobAggro_0fb31b1e88540b09b35a982d8d972f28 = nil; MobAggroWarningTextFrame:SetAlpha(0); MobAggro_45b59d8ae4e2d62df220185d825d79ec = 0; MobAggro_e28572765d0597b80a2260b11df30ee9 = 0; end 
