 local BFTooltip_d21ea2df7d42b70936e5762719760d32 = BLibrary:CreateInstance("BHook"); local BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c = BLibrary("BSecureHook"); local BFTooltip_a46e5cc7ff0d216ef122885a0976fd93 = BLibrary("BEvent"); BFTooltip_3f6959cb5e57fd67ab669170c8632b28="|CFFFFD000" BFTooltip_8dab702435d95cfab84eaf843be54def="|CFF777777" local canDoInspect = false if (GetLocale() == "zhCN") then BFTooltip_ad5a531d1bf71036cd3ca155666b4c35 = "|CFFFF0000>>你<<|r"; BFTooltip_31d97b8fc6222bacc6c0821bca5ee74f = "天赋：%s (%d/%d/%d)|r" BFTooltip_c2e2757f496ad6eb67171063eca3db50 = "主天赋：%s (%d/%d/%d)|r" BFTooltip_dd0915837df56c5849832791b5c893cd = "副天赋：%s (%d/%d/%d)|r" BFTooltip_843a1e5002d398bc3baccfb6f1ab3613 = "目标：" BFTooltip_8c1238cf8b8bd7ccabfff661320b7233 = 4; canDoInspect = true elseif (GetLocale() == "zhTW") then BFTooltip_ad5a531d1bf71036cd3ca155666b4c35 = "|CFFFF0000>>你<<|r"; BFTooltip_31d97b8fc6222bacc6c0821bca5ee74f = "天賦：%s (%d/%d/%d)|r" BFTooltip_c2e2757f496ad6eb67171063eca3db50 = "主天賦：%s (%d/%d/%d)|r" BFTooltip_dd0915837df56c5849832791b5c893cd = "副天賦：%s (%d/%d/%d)|r" BFTooltip_843a1e5002d398bc3baccfb6f1ab3613 = "目標：" BFTooltip_8c1238cf8b8bd7ccabfff661320b7233 = 4; canDoInspect = true else BFTooltip_ad5a531d1bf71036cd3ca155666b4c35 = "|CFFFF0000>>YOU<<|r"; BFTooltip_31d97b8fc6222bacc6c0821bca5ee74f = "Talent: %s (%d/%d/%d)|r" BFTooltip_c2e2757f496ad6eb67171063eca3db50 = "Primary Talent: %s (%d/%d/%d)|r" BFTooltip_dd0915837df56c5849832791b5c893cd = "SecondaryTalent: %s (%d/%d/%d)|r" BFTooltip_843a1e5002d398bc3baccfb6f1ab3613 = "target: " BFTooltip_8c1238cf8b8bd7ccabfff661320b7233 = 4; canDoInspect = true end inspectList = {}; local inpsectname; local inspectTime = GetTime(); local BFTooltip_3caf1de4298d9590f89e89021b9718fa, BFTooltip_40820c604fb2535b534f7c39d8d10fbc = UnitName("player"); local BFTooltip_89993e00974a57bcc23883778379a0e0 = UNKNOWNOBJECT; local BFTooltip_6b54f25a13b22fadbd4d41e5b8748ca6 = GREEN_FONT_COLOR_CODE..GUILD_ONLINE_LABEL; local BFTooltip_b70bf4b05a9cb2b300efa6eb2b234e28 = PLAYER; local BFTooltip_f2a8d52cb3b8454fce64eb2c12287307 = CORPSE; local BFTooltip_7e4fc146f10ef208a908534f1d57eb91 = string.gsub(CORPSE_TOOLTIP,"%%s", "%(%.%+%)"); local BFTooltip_bb94fa044ed44acd49315465b0f84483; local BFTooltip_74859e1ca060dcaf910e42c2ec790c32; local BFTooltip_925e8a83ae35d6889ccc0e51d9a05d6a=function() local BFTooltip_0cf93c45b79a418f6cd99321575b77e1=function(index) local talentname, point, point1, point2, point3; point1 = select(3, GetTalentTabInfo(1, true,nil,index)); point2 = select(3, GetTalentTabInfo(2, true,nil,index)); point3 = select(3, GetTalentTabInfo(3, true,nil,index)); if not (point1 and point2 and point3) then return end point = max(point1, point2, point3); if point ==0 then return end if point == point1 then talentname = GetTalentTabInfo(1, true,nil,index); elseif point == point2 then talentname = GetTalentTabInfo(2, true,nil,index); elseif point == point3 then talentname = GetTalentTabInfo(3, true,nil,index); end return talentname,point1, point2, point3; end if (inspectUnit and UnitName('mouseover') == inspectUnit and inspectList[inspectUnit]) then local ptalentname, ppoint1, ppoint2, ppoint3=BFTooltip_0cf93c45b79a418f6cd99321575b77e1(1) local stalentname, spoint1, spoint2, spoint3=BFTooltip_0cf93c45b79a418f6cd99321575b77e1(2) local activeTalent=GetActiveTalentGroup(true) inspectList[inspectUnit].activeTalent = activeTalent if (ptalentname and ppoint1 and ppoint2 and ppoint3) then inspectList[inspectUnit].talent1 = {}; inspectList[inspectUnit].talent1.name = ptalentname; inspectList[inspectUnit].talent1.p1 = ppoint1; inspectList[inspectUnit].talent1.p2 = ppoint2; inspectList[inspectUnit].talent1.p3 = ppoint3; end if (stalentname and spoint1 and spoint2 and spoint3) then inspectList[inspectUnit].talent2 = {}; inspectList[inspectUnit].talent2.name = stalentname; inspectList[inspectUnit].talent2.p1 = spoint1; inspectList[inspectUnit].talent2.p2 = spoint2; inspectList[inspectUnit].talent2.p3 = spoint3; end inspectUnit = nil end GameTooltip:SetUnit('mouseover') end if (GetLocale() == "zhCN") then BFTooltip_bb94fa044ed44acd49315465b0f84483 = "无详细信息"; BFTooltip_74859e1ca060dcaf910e42c2ec790c32 = { ["elite"] = "精英", ["worldboss"] = "首领", ["rare"] = "稀有", ["rareelite"] = "稀有精英", }; BFTooltip_662ca10dea06cc70b2070def0e0dadfa ={ "仇恨", "敌对", "冷淡", "中立", "友善", "尊敬", "崇敬", "崇拜", } BFTT_FONT = "Fonts\\ZYKai_T.TTF"; elseif (GetLocale() == "zhTW") then BFTooltip_bb94fa044ed44acd49315465b0f84483 = "无详细信息"; BFTooltip_74859e1ca060dcaf910e42c2ec790c32 = { ["elite"] = "精英", ["worldboss"] = "首領", ["rare"] = "稀有", ["rareelite"] = "稀有精英", }; BFTooltip_662ca10dea06cc70b2070def0e0dadfa ={ "仇恨", "敵對", "冷淡", "中立", "友善", "尊敬", "崇敬", "崇拜", } BFTT_FONT = "Fonts\\bLEI00D.TTF"; else BFTooltip_bb94fa044ed44acd49315465b0f84483 = "Not specified"; BFTooltip_74859e1ca060dcaf910e42c2ec790c32 = { ["elite"] = "Elite", ["worldboss"] = "Boss", ["rare"] = "Rare", ["rareelite"] = "Rare Elite", }; BFTooltip_662ca10dea06cc70b2070def0e0dadfa ={ "Hated", "Hostile", "Unfriendly", "Neutral", "Friendly", "Honored", "Revered", "Exalted" } BFTT_FONT = "Fonts\\ARIALN.TTF"; end local BFTooltip_e5cf826bac6b190d94afc44c0f89916b = 1; BFTT_Config = { ["Anchor"] = 1, ["PositionX"] = -20, ["PositionY"] = -25, ["Fade"] = 0, ["Talent"] = 2, ["Guild"] = 1, ["Corpse"] = 1, ["TOT"] = 2, ["PVP"] = 2, ["AR"] = 1, }; local BFTooltip_078de750fe835178a4e8445fca9d135e = { [1] = {nil, nil}, [2] = {"TOPLEFT", "BOTTOMLEFT"}, [3] = {"TOPLEFT", "TOPLEFT"}, [4] = {"TOP", "TOP"}, [5] = {"TOPRIGHT", "TOPRIGHT"}, [6] = {"LEFT", "LEFT"}, [7] = {"CENTER", "CENTER"}, [8] = {"RIGHT", "RIGHT"}, [9] = {"BOTTOMLEFT", "BOTTOMLEFT"}, [10] = {"BOTTOM", "BOTTOM"}, [11] = {"BOTTOMRIGHT", "BOTTOMRIGHT"}, }; local BFTooltip_3b4c6e8428fd1b418187eeddfb50851b = { ["HUNTER"] = "|cffaad372", ["WARLOCK"] = "|cff9382C9", ["PRIEST"] = "|cffffffff", ["PALADIN"] = "|cfff48cba", ["MAGE"] = "|cff68ccef", ["ROGUE"] = "|cfffff468", ["DRUID"] = "|cffff7c0a", ["SHAMAN"] = "|cff2359ff", ["WARRIOR"] = "|cffc69b6d", ["DEATHKNIGHT"] = "|cffc41f3b", ["DEFAULT"] = "|cffa0a0a0" }; local BFTooltip_adc9d1f00fa6bd4940e624b4c5235840 = "|cff888888"; local BFTooltip_6e397a8792a702ef576ac7368d5eaf88 = "|c0000ff00"; local BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc = { [1] = "|cffff0000", [2] = "|cffff6600", [3] = "|cffffff00", [4] = "|cff00ff00", [5] = "|cff888888", [6] = "|cffffcc00", }; local BFTooltip_0287b1fb03d1295056e85a0f995b5dba = { ["elite"] = "|cffffcc00", ["worldboss"] = "|cffff0000", ["rare"] = "|cffff66ff", ["rareelite"] = "|cffffaaff", }; local BFTooltip_d529cdbee72d24a256b536b5aa241d53 = { [1] = { ["r"] = 0.0, ["g"] = 0.0, ["b"] = 0.5, }, [2] = { ["r"] = 0.5, ["g"] = 0.5, ["b"] = 0.0, }, [3] = { ["r"] = 0.5, ["g"] = 0.0, ["b"] = 0.5, }, [4] = { ["r"] = 0.5, ["g"] = 0.0, ["b"] = 0.0, }, [5] = { ["r"] = 0.0, ["g"] = 0.0, ["b"] = 0.0, }, }; local function BFTooltip_72cc49141c08e56952ae7ad45a1edf51(BFTooltip_3f50417fb16be9b1078eb68d24fa9c26) local BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117 = ""; for BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f = 1, BFTooltip_3f50417fb16be9b1078eb68d24fa9c26, 1 do BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117 = BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117 .. " "; end return BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117; end local function BFTooltip_d778efd40aafd6a2ce01001bc73179eb(origfunc, BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) local r, g, b; if ( UnitPlayerControlled(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) ) then if ( UnitCanAttack(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c, "player") ) then if ( not UnitCanAttack("player", BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) ) then r = 1.0; g = 1.0; b = 1.0; GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[3].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[3].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[3].b); else r = FACTION_BAR_COLORS[2].r; g = FACTION_BAR_COLORS[2].g; b = FACTION_BAR_COLORS[2].b; GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[4].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[4].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[4].b); end elseif ( UnitCanAttack("player", BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) ) then r = FACTION_BAR_COLORS[4].r; g = FACTION_BAR_COLORS[4].g; b = FACTION_BAR_COLORS[4].b; GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[2].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[2].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[2].b); elseif ( UnitIsPVP(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) ) then r = 0; g = 1; b = 0; GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].b); else r = 0.0; g = 0.8; b = 1.0; GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].b); end else local BFTooltip_c563f0e90b41e682984a062bfdb28376 = UnitReaction(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c, "player"); if ( BFTooltip_c563f0e90b41e682984a062bfdb28376 ) then r = FACTION_BAR_COLORS[BFTooltip_c563f0e90b41e682984a062bfdb28376].r; g = FACTION_BAR_COLORS[BFTooltip_c563f0e90b41e682984a062bfdb28376].g; b = FACTION_BAR_COLORS[BFTooltip_c563f0e90b41e682984a062bfdb28376].b; if (BFTooltip_c563f0e90b41e682984a062bfdb28376<=3) then GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[4].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[4].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[4].b); elseif (BFTooltip_c563f0e90b41e682984a062bfdb28376 == 4) then GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[5].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[5].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[5].b); else GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].b); end else r = 0.0; g = 0.8; b = 1.0; GameTooltip:SetBackdropColor(BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].r, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].g, BFTooltip_d529cdbee72d24a256b536b5aa241d53[1].b); end end return r, g, b; end local function BFTooltip_d26cd79fa9bc34a4cf186cfcc71e9233() local BFTooltip_77d93d0fdcdc419256aa5205c0ecfc70 = 0; for BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f=1, GameTooltip:NumLines() do local BFTooltip_aacf928ffa23e474a000b1b6292d02a9 = getglobal("GameTooltipTextLeft"..BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f):GetWidth(); if (BFTooltip_aacf928ffa23e474a000b1b6292d02a9 > BFTooltip_77d93d0fdcdc419256aa5205c0ecfc70) then BFTooltip_77d93d0fdcdc419256aa5205c0ecfc70 = BFTooltip_aacf928ffa23e474a000b1b6292d02a9; end end GameTooltip:SetWidth(BFTooltip_77d93d0fdcdc419256aa5205c0ecfc70 + 18); end local function BFTooltip_e09df68d86d3518f432268e2ba0cc101(BFTooltip_ad91a2b90564e29dce0939235e22e493, BFTooltip_6c162b1123a1eb57c1827271b32b6959, BFTooltip_1346009d8936868590c1d007e3efcfae) if (not BFTooltip_1346009d8936868590c1d007e3efcfae) then return; end BFTooltip_6c162b1123a1eb57c1827271b32b6959.default = 1; if (BFTooltip_6c162b1123a1eb57c1827271b32b6959 == getglobal("GameTooltip") or BFTooltip_6c162b1123a1eb57c1827271b32b6959 == getglobal("MobileGameTooltip")) then local BFTooltip_c7268fe06b62927ac6031241d1c8fc74 = GetMouseFocus(); if (BFTooltip_c7268fe06b62927ac6031241d1c8fc74) then if (BFTooltip_c7268fe06b62927ac6031241d1c8fc74:GetName() ~= "WorldFrame" and BFTT_Config["Anchor"] == 2) then BFTooltip_ad91a2b90564e29dce0939235e22e493(BFTooltip_6c162b1123a1eb57c1827271b32b6959, BFTooltip_1346009d8936868590c1d007e3efcfae); else BFTooltip_6c162b1123a1eb57c1827271b32b6959:ClearAllPoints(); BFTooltip_6c162b1123a1eb57c1827271b32b6959:SetOwner(BFTooltip_1346009d8936868590c1d007e3efcfae, "ANCHOR_NONE"); local BFTooltip_b254e387cf58e982ba24fcb3e8a63995, BFTooltip_a0f453fd098c0b0fda780f69cda6ffbf = GetCursorPosition(); local BFTooltip_6230e23f021dec637edabaa368556c06 = UIParent:GetScale(); BFTooltip_b254e387cf58e982ba24fcb3e8a63995,BFTooltip_a0f453fd098c0b0fda780f69cda6ffbf = BFTooltip_b254e387cf58e982ba24fcb3e8a63995/BFTooltip_6230e23f021dec637edabaa368556c06,BFTooltip_a0f453fd098c0b0fda780f69cda6ffbf/BFTooltip_6230e23f021dec637edabaa368556c06; local BFTooltip_79aa110240eabb8f0bf6dbb352d9d22c, BFTooltip_5017a01ce90213af1c3e06519518a9bf = BFTT_Config["PositionX"],BFTT_Config["PositionY"]; if (BFTT_Config["Anchor"] == 1 ) then BFTooltip_ad91a2b90564e29dce0939235e22e493(BFTooltip_6c162b1123a1eb57c1827271b32b6959, BFTooltip_1346009d8936868590c1d007e3efcfae); return; elseif (BFTT_Config["Anchor"] == 2) then BFTooltip_79aa110240eabb8f0bf6dbb352d9d22c = BFTooltip_79aa110240eabb8f0bf6dbb352d9d22c + BFTooltip_b254e387cf58e982ba24fcb3e8a63995; BFTooltip_5017a01ce90213af1c3e06519518a9bf = BFTooltip_5017a01ce90213af1c3e06519518a9bf + BFTooltip_a0f453fd098c0b0fda780f69cda6ffbf; end BFTooltip_6c162b1123a1eb57c1827271b32b6959:SetPoint(BFTooltip_078de750fe835178a4e8445fca9d135e[BFTT_Config["Anchor"]][1], UIParent, BFTooltip_078de750fe835178a4e8445fca9d135e[BFTT_Config["Anchor"]][2], BFTooltip_79aa110240eabb8f0bf6dbb352d9d22c, BFTooltip_5017a01ce90213af1c3e06519518a9bf); end else BFTooltip_ad91a2b90564e29dce0939235e22e493(BFTooltip_6c162b1123a1eb57c1827271b32b6959, BFTooltip_1346009d8936868590c1d007e3efcfae); end else BFTooltip_ad91a2b90564e29dce0939235e22e493(BFTooltip_6c162b1123a1eb57c1827271b32b6959, BFTooltip_1346009d8936868590c1d007e3efcfae); end end local function BFTooltip_6b595d544c5c02ea5184b48c2201a3f7(self, BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) local BFTooltip_36d63a69975fd08a36e2e6d5025c94df = GameTooltip:NumLines(); local BFTooltip_8983c60d66c8593ec7165ea9dbedb584, BFTooltip_06dbcc4d2bf486ad2f0d8e082b30be8f = UnitName(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); local BFTooltip_c17d5b6cb27b5e698389952984895bd7, BFTooltip_b60cfe76c79aefbdff480476189e6666 = UnitClass(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); if not BFTooltip_8983c60d66c8593ec7165ea9dbedb584 then return end if (UnitIsPlayer(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)) then local coords =BFTooltip_b60cfe76c79aefbdff480476189e6666 and CLASS_BUTTONS[BFTooltip_b60cfe76c79aefbdff480476189e6666]; if (coords) then GameTooltip.classIcon:SetTexture("Interface\\WorldStateFrame\\Icons-Classes"); GameTooltip.classIcon:SetTexCoord(coords[1], coords[2], coords[3], coords[4]); GameTooltip.classIcon:Show(); if (BFTooltip_8983c60d66c8593ec7165ea9dbedb584) then GameTooltipTextLeft1:SetText(format(BFTooltip_72cc49141c08e56952ae7ad45a1edf51(BFTooltip_8c1238cf8b8bd7ccabfff661320b7233) .."%s", BFTooltip_8983c60d66c8593ec7165ea9dbedb584)); else GameTooltipTextLeft1:SetText(format(BFTooltip_72cc49141c08e56952ae7ad45a1edf51(BFTooltip_8c1238cf8b8bd7ccabfff661320b7233) .."%s", BFTooltip_89993e00974a57bcc23883778379a0e0)); end else GameTooltipTextLeft1:SetText(BFTooltip_8983c60d66c8593ec7165ea9dbedb584 or BFTooltip_89993e00974a57bcc23883778379a0e0); end if (BFTooltip_06dbcc4d2bf486ad2f0d8e082b30be8f ~= BFTooltip_40820c604fb2535b534f7c39d8d10fbc) then GameTooltip:AppendText("-"..BFTooltip_06dbcc4d2bf486ad2f0d8e082b30be8f); end local guildName, guildRankName = GetGuildInfo(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) if guildName then if guildRankName and BFTT_Config["GuildRank"]==1 then GameTooltipTextLeft2:SetText("<"..guildName.."> - "..guildRankName); end end else GameTooltip.classIcon:Hide(); end local BFTooltip_4cc93bff338b768a7287a88ed52e8a5b; for BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f=1, BFTooltip_36d63a69975fd08a36e2e6d5025c94df, 1 do local BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117 = getglobal("GameTooltipTextLeft"..BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f):GetText(); if (BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117) then if (string.find(BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117, LEVEL)) then BFTooltip_4cc93bff338b768a7287a88ed52e8a5b = BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f; break; end else break; end end local BFTooltip_0db5ab7591386d733b59a51d951e85d0 = UnitLevel(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); if (not BFTooltip_4cc93bff338b768a7287a88ed52e8a5b) then return; else local leveltxt, levelcolor; if (BFTooltip_0db5ab7591386d733b59a51d951e85d0 and BFTooltip_0db5ab7591386d733b59a51d951e85d0 >= 1) then leveltxt = LEVEL .." " .. BFTooltip_0db5ab7591386d733b59a51d951e85d0; else leveltxt = LEVEL .. "??"; end local BFTooltip_0bc2e111f929b46941314ba27b772be5 = UnitLevel("player"); if (UnitFactionGroup(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) ~= UnitFactionGroup("player")) then if ((BFTooltip_0db5ab7591386d733b59a51d951e85d0 - BFTooltip_0bc2e111f929b46941314ba27b772be5 >= 5) or BFTooltip_0db5ab7591386d733b59a51d951e85d0 == -1) then levelcolor = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[1]; elseif (BFTooltip_0db5ab7591386d733b59a51d951e85d0 - BFTooltip_0bc2e111f929b46941314ba27b772be5 >= 3) then levelcolor = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[2]; elseif (BFTooltip_0db5ab7591386d733b59a51d951e85d0 - BFTooltip_0bc2e111f929b46941314ba27b772be5 >= -2) then levelcolor = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[3]; elseif (BFTooltip_0bc2e111f929b46941314ba27b772be5 - BFTooltip_0db5ab7591386d733b59a51d951e85d0 <= GetQuestGreenRange()) then levelcolor = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[4]; else levelcolor = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[5]; end else levelcolor = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[6]; end local BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9,BFTooltip_9f316a3eb2ba092b53bb884a899e56c5 = "","|cffffffff"; local BFTooltip_9fc1a99638e222362f76a2986addc9f8,BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a,BFTooltip_05f00dfbbbbbdea5397f8a69924d1f4d if (UnitRace(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) and UnitIsPlayer(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)) then BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 = UnitRace(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); elseif (UnitPlayerControlled(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)) then BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 = UnitCreatureFamily(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); else BFTooltip_9fc1a99638e222362f76a2986addc9f8=UnitIsFriend(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c,"player") and UnitReaction(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c,"player") if BFTooltip_9fc1a99638e222362f76a2986addc9f8 then if BFTooltip_9fc1a99638e222362f76a2986addc9f8<=2 then BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a= BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[1] elseif BFTooltip_9fc1a99638e222362f76a2986addc9f8<=3 then BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a= BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[2]; elseif BFTooltip_9fc1a99638e222362f76a2986addc9f8<=4 then BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[3]; else BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a = BFTooltip_7dfad32b68d1cb2bfbd8b776c7c0f5bc[4]; end BFTooltip_05f00dfbbbbbdea5397f8a69924d1f4d=BFTooltip_662ca10dea06cc70b2070def0e0dadfa[BFTooltip_9fc1a99638e222362f76a2986addc9f8] end if (UnitCreatureType(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) == BFTooltip_bb94fa044ed44acd49315465b0f84483) then BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 = "" else BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 = UnitCreatureType(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); end end if (BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 == nil) then BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 = (""); else BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 = (BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9 .. " "); end local BFTooltip_7a2bc46364cf858bda368b0cc2cebced = "|cffffffff"; if (UnitIsPlayer(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)) then BFTooltip_7a2bc46364cf858bda368b0cc2cebced = BFTooltip_b60cfe76c79aefbdff480476189e6666 and BFTooltip_3b4c6e8428fd1b418187eeddfb50851b[BFTooltip_b60cfe76c79aefbdff480476189e6666] or BFTooltip_3b4c6e8428fd1b418187eeddfb50851b["DEFAULT"]; else BFTooltip_c17d5b6cb27b5e698389952984895bd7 = " "; end local BFTooltip_7208554a9f4262c89b2f8e16f4943abb, BFTooltip_92c450fe21210367e78dad9a0af8ae2f = "","|cffffffff"; if (UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) and UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) ~= "normal" and UnitHealth(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) > 0) then if (UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) == "elite" or UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) == "worldboss" or UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) == "rare" or UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) == "rareelite") then BFTooltip_7208554a9f4262c89b2f8e16f4943abb = ("(" .. BFTooltip_74859e1ca060dcaf910e42c2ec790c32[UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)] .. ")"); BFTooltip_92c450fe21210367e78dad9a0af8ae2f = BFTooltip_0287b1fb03d1295056e85a0f995b5dba[UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)]; else BFTooltip_7208554a9f4262c89b2f8e16f4943abb = ("(" .. UnitClassification(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) .. ")"); end end local BFTooltip_2126e07dc437dce20510697ffb774e31, BFTooltip_d6c89e6ffa522271a53472720a0be6c1 = "","|cffffffff"; if (UnitHealth(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) <= 0) then BFTooltip_2126e07dc437dce20510697ffb774e31 = BFTooltip_f2a8d52cb3b8454fce64eb2c12287307; BFTooltip_d6c89e6ffa522271a53472720a0be6c1 = BFTooltip_adc9d1f00fa6bd4940e624b4c5235840; BFTooltip_92c450fe21210367e78dad9a0af8ae2f = BFTooltip_adc9d1f00fa6bd4940e624b4c5235840; BFTooltip_9f316a3eb2ba092b53bb884a899e56c5 = BFTooltip_adc9d1f00fa6bd4940e624b4c5235840; levelcolor = BFTooltip_adc9d1f00fa6bd4940e624b4c5235840; end local BFTooltip_b61b82ed9a8a82dfaaeed47bb2b6eadf=levelcolor..leveltxt.."|r"..BFTooltip_9f316a3eb2ba092b53bb884a899e56c5.." "..BFTooltip_0edd4fa5d04bbdf4a6174772a777b9c9.."|r"..BFTooltip_7a2bc46364cf858bda368b0cc2cebced..BFTooltip_c17d5b6cb27b5e698389952984895bd7.."|r"..BFTooltip_92c450fe21210367e78dad9a0af8ae2f..BFTooltip_7208554a9f4262c89b2f8e16f4943abb.."|r"..BFTooltip_d6c89e6ffa522271a53472720a0be6c1..BFTooltip_2126e07dc437dce20510697ffb774e31.."|r"; if BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a and BFTooltip_05f00dfbbbbbdea5397f8a69924d1f4d then BFTooltip_b61b82ed9a8a82dfaaeed47bb2b6eadf= BFTooltip_b61b82ed9a8a82dfaaeed47bb2b6eadf.."("..BFTooltip_c8c12a7dbfd0b1a3c6e55e22ecc2596a..BFTooltip_05f00dfbbbbbdea5397f8a69924d1f4d.."|r)" end getglobal("GameTooltipTextLeft"..BFTooltip_4cc93bff338b768a7287a88ed52e8a5b):SetText(BFTooltip_b61b82ed9a8a82dfaaeed47bb2b6eadf); end local BFTooltip_3d39b031dc893292234b1e56c970798c, BFTooltip_ae3cefbd9c0af91ce6b58264802f08a5 = "", "|cffffffff"; local BFTooltip_22cdddcd52a04378a48d727a55ae0566 = getglobal("GameTooltipTextLeft"..BFTooltip_36d63a69975fd08a36e2e6d5025c94df):GetText(); BFTooltip_0db5ab7591386d733b59a51d951e85d0 = (BFTooltip_0db5ab7591386d733b59a51d951e85d0 > 0 and BFTooltip_0db5ab7591386d733b59a51d951e85d0) or 73; if (UnitIsVisible(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c.."target") and BFTT_Config["TOT"] == 1) then BFTooltip_3d39b031dc893292234b1e56c970798c = UnitName(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c.."target"); if (UnitIsPlayer(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c.."target")) then local _, BFTooltip_b60cfe76c79aefbdff480476189e6666 = UnitClass(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c.."target"); BFTooltip_ae3cefbd9c0af91ce6b58264802f08a5 = BFTooltip_b60cfe76c79aefbdff480476189e6666 and BFTooltip_3b4c6e8428fd1b418187eeddfb50851b[BFTooltip_b60cfe76c79aefbdff480476189e6666]; end end if (BFTooltip_22cdddcd52a04378a48d727a55ae0566 == "PvP") then if (BFTT_Config["TOT"] == 1 and UnitIsVisible(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c.."target")) then if (UnitIsUnit(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c .. "target", "player")) then getglobal("GameTooltipTextLeft" .. BFTooltip_36d63a69975fd08a36e2e6d5025c94df):SetText(BFTooltip_6e397a8792a702ef576ac7368d5eaf88 .. BFTooltip_843a1e5002d398bc3baccfb6f1ab3613 .. "|r" .. BFTooltip_ad5a531d1bf71036cd3ca155666b4c35); else getglobal("GameTooltipTextLeft" .. BFTooltip_36d63a69975fd08a36e2e6d5025c94df):SetText(BFTooltip_6e397a8792a702ef576ac7368d5eaf88..BFTooltip_843a1e5002d398bc3baccfb6f1ab3613.."|r"..BFTooltip_ae3cefbd9c0af91ce6b58264802f08a5..BFTooltip_3d39b031dc893292234b1e56c970798c.."|r"); end if (BFTT_Config["PVP"] == 1) then GameTooltip:AddLine("pvp"); GameTooltip:SetHeight(GameTooltip:GetHeight() + 14); end else if (BFTT_Config["PVP"] == 2) then getglobal("GameTooltipTextLeft"..BFTooltip_36d63a69975fd08a36e2e6d5025c94df):SetText(""); GameTooltip:SetHeight(GameTooltip:GetHeight() - 14); end end else if (BFTT_Config["TOT"] == 1 and UnitIsVisible(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c.."target")) then if (UnitIsUnit(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c .. "target", "player")) then GameTooltip:AddLine(BFTooltip_6e397a8792a702ef576ac7368d5eaf88 .. BFTooltip_843a1e5002d398bc3baccfb6f1ab3613 .. "|r" .. BFTooltip_ad5a531d1bf71036cd3ca155666b4c35); else GameTooltip:AddLine(BFTooltip_6e397a8792a702ef576ac7368d5eaf88..BFTooltip_843a1e5002d398bc3baccfb6f1ab3613.."|r"..BFTooltip_ae3cefbd9c0af91ce6b58264802f08a5..BFTooltip_3d39b031dc893292234b1e56c970798c.."|r"); end GameTooltip:SetHeight(GameTooltip:GetHeight() + 14); end end if (BFTT_Config["Talent"] == 1 and UnitIsPlayer(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c)) then inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584] = inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584] or {}; if inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1 then local BFTooltip_e0e85008d0859db6bb769f09cf1b7b30 if not inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2 or inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].activeTalent==1 then BFTooltip_e0e85008d0859db6bb769f09cf1b7b30=BFTooltip_3f6959cb5e57fd67ab669170c8632b28 else BFTooltip_e0e85008d0859db6bb769f09cf1b7b30=BFTooltip_8dab702435d95cfab84eaf843be54def end if inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2 then GameTooltip:AddLine(format(BFTooltip_e0e85008d0859db6bb769f09cf1b7b30..BFTooltip_c2e2757f496ad6eb67171063eca3db50, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.name, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.p1, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.p2, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.p3 )); else GameTooltip:AddLine(format(BFTooltip_e0e85008d0859db6bb769f09cf1b7b30..BFTooltip_31d97b8fc6222bacc6c0821bca5ee74f, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.name, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.p1, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.p2, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent1.p3 )); end GameTooltip:SetHeight(GameTooltip:GetHeight() + 14) end if inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2 then if inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].activeTalent==1 then BFTooltip_e0e85008d0859db6bb769f09cf1b7b30=BFTooltip_8dab702435d95cfab84eaf843be54def else BFTooltip_e0e85008d0859db6bb769f09cf1b7b30=BFTooltip_3f6959cb5e57fd67ab669170c8632b28 end GameTooltip:AddLine(format( BFTooltip_e0e85008d0859db6bb769f09cf1b7b30..BFTooltip_dd0915837df56c5849832791b5c893cd, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2.name, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2.p1, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2.p2, inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].talent2.p3)); GameTooltip:SetHeight(GameTooltip:GetHeight() + 14) end local BFTooltip_eab765600dfa4f607423084a1db7c624 = UnitRace(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); if not inpsectname and (not InspectFrame or not InspectFrame:IsShown()) then inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].level = BFTooltip_0db5ab7591386d733b59a51d951e85d0; inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].realm = BFTooltip_06dbcc4d2bf486ad2f0d8e082b30be8f; inspectList[BFTooltip_8983c60d66c8593ec7165ea9dbedb584].race = BFTooltip_eab765600dfa4f607423084a1db7c624; inspectTime = GetTime(); inpsectname = BFTooltip_8983c60d66c8593ec7165ea9dbedb584 if CanInspect(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c) and canDoInspect then NotifyInspect(BFTooltip_fd724fd3c5e25aaf3b4226e1dae5257c); end else if ((GetTime() - inspectTime) > 2.0) then inpsectname = nil; end end end BFTooltip_d26cd79fa9bc34a4cf186cfcc71e9233(); end local function BFTooltip_65d610506803fe617339151af6dbc5db() if (BFTT_Config["Fade"] ~= 1) then GameTooltip:Hide(); end end local function BFTooltip_c26bb4c4b37e799f1819a6f53957dcaa() GameTooltip.classIcon:SetTexture(""); GameTooltip.classIcon:Hide(); end local BFTooltip_39cfa6667da7a87a41de23361994b3fe; local function BFTooltip_987a4eb29ae1542f7691aa4320210249(...) local BFTooltip_36d63a69975fd08a36e2e6d5025c94df = GameTooltip:NumLines(); local BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117 = GameTooltipTextLeft1:GetText(); if (BFTT_Config["Corpse"] == 1 and BFTooltip_36d63a69975fd08a36e2e6d5025c94df == 1) then local _, _, BFTooltip_8983c60d66c8593ec7165ea9dbedb584 = string.find(BFTooltip_e6955c64cf39bdb23dc86de1a9ec2117, BFTooltip_7e4fc146f10ef208a908534f1d57eb91); if (BFTooltip_8983c60d66c8593ec7165ea9dbedb584) then return; end end end local function BFTooltip_d636d1da4a6fee14805d22aa871379f6(BFTooltip_ad91a2b90564e29dce0939235e22e493, self, event, ...) if (event == "CHAT_MSG_SYSTEM" and BFTooltip_39cfa6667da7a87a41de23361994b3fe and (GetTime() - BFTooltip_39cfa6667da7a87a41de23361994b3fe) < 3 and (string.find(arg1, WHO_NUM_RESULTS) or string.find(arg1, "(.-)%s-: (.- .-) ([^<%-]*) "))) then else BFTooltip_ad91a2b90564e29dce0939235e22e493(self, event, ...); end end function BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:CHAT_MSG_SYSTEM(...) local arg1 = ...; if (string.find(arg1, WHO_NUM_RESULTS)) then if (GameTooltip:NumLines() == 1 and BFTT_Config["Corpse"] == 1) then for BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f = 1, GetNumWhoResults() do local whoname, BFTooltip_b380e1c631c032b1c92d5e8e054b3616, level, race, class = GetWhoInfo(BFTooltip_e914904fab9d05d3f54d52bfc31a0f3f); local BFTooltip_8983c60d66c8593ec7165ea9dbedb584 = GameTooltipTextLeft1:GetText(); BigFoot_Print(GetGuildInfo(whoname)) if (string.find(BFTooltip_8983c60d66c8593ec7165ea9dbedb584, whoname)) then if (string.len(BFTooltip_b380e1c631c032b1c92d5e8e054b3616) > 0) then GameTooltip:AddLine("<"..BFTooltip_b380e1c631c032b1c92d5e8e054b3616..">-"..guildRankName); GameTooltip:AddLine(string.format("|cffffbb00"..UNIT_LEVEL_TEMPLATE.."|r"..HIGHLIGHT_FONT_COLOR_CODE .. " %s %s|r", level, race, class)); GameTooltip:AddLine(BFTooltip_6b54f25a13b22fadbd4d41e5b8748ca6); GameTooltip:SetHeight(GameTooltip:GetHeight()+14*3) else GameTooltip:AddLine(string.format("|cffffbb00"..UNIT_LEVEL_TEMPLATE.."|r"..HIGHLIGHT_FONT_COLOR_CODE .. " %s %s|r", level, race, class)); GameTooltip:AddLine(BFTooltip_6b54f25a13b22fadbd4d41e5b8748ca6); GameTooltip:SetHeight(GameTooltip:GetHeight()+14*2) end BFTooltip_d26cd79fa9bc34a4cf186cfcc71e9233(); return; end end end end end local function UnitIsMouseOver() return UnitExists("mouseover"); end function BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:UPDATE_MOUSEOVER_UNIT() if (UnitIsMouseOver()) then GameTooltip_SetDefaultAnchor(GameTooltip, UIParent); GameTooltip:SetUnit("mouseover"); local r, g, b = GameTooltip_UnitColor("mouseover"); getglobal("GameTooltip".."TextLeft1"):SetTextColor(r, g, b); BFTT_Fresh:Show(); if inspectList and inpsectname and inspectList[inpsectname] then inspectList[inpsectname].activeTalent=GetActiveTalentGroup(true) end end end local leftlines = setmetatable({[1] = true}, {__index = function(t, i) local f = _G["GameTooltipTextLeft"..i] t[i] = f return f end}) local rightlines = setmetatable({[1] = true}, {__index = function(t, i) local f = _G["GameTooltipTextRight"..i] t[i] = f return f end}) local function ChangeQuestText(self,name,title,have,need) local quest; local numlines = self:NumLines() local i = 1 while i < numlines do i = i + 1 left = leftlines[i] text = left:GetText() local quests = GetTooltipQuestTable() if quests[text] then quest = true; end end if (not quest and UnitExists("mouseover")) then local title,name,have,need =GetTooltipQuestData() if name then self:AddLine(title, 1, 0.87, 0); self:AddLine(format(" - %s: %d/%d", name, have, need), 1, 1, 1); self:Show(); end end end local function OnTooltipSetUnit(self, ...) ChangeQuestText(self); end GameTooltip:HookScript("OnTooltipSetUnit", OnTooltipSetUnit) if GameTooltip:IsShown() then if GameTooltip:GetItem() then local id = items[GameTooltip:GetItem()] if id then MultiItems(GameTooltip, id) end else ChangeQuestText(GameTooltip) end GameTooltip:Show() end function BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:PLAYER_TARGET_CHANGED() self:UPDATE_MOUSEOVER_UNIT(); end function BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:INSPECT_TALENT_READY() if BFTT_Config["Talent"] == 1 then BFTooltip_925e8a83ae35d6889ccc0e51d9a05d6a() end end local BFTooltip_025d8007e5b2a8e146f3c15d572f9829 = CreateFrame("Frame", "BFTT_Fresh",UIParent); local function BFTooltip_4076a9da37f8685ca231acc8c65552a7(self) if (UnitIsMouseOver()) then else if (BFTT_Config["Fade"] == 1) then GameTooltip:FadeOut(); else GameTooltip:Hide(); end self:Hide(); end end function BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:ADDON_LOADED(...) local addon = ... if addon=="Blizzard_InspectUI" then local InspectPaperDollFrame_SetLevel_Ori = InspectPaperDollFrame_SetLevel InspectPaperDollFrame_SetLevel = function() if not InspectFrame.unit then return end if not UnitClass(InspectFrame.unit) then return end InspectPaperDollFrame_SetLevel_Ori() end BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:UnregisterEvent("ADDON_LOADED") end end BFTooltip_025d8007e5b2a8e146f3c15d572f9829:SetScript("OnUpdate", BFTooltip_4076a9da37f8685ca231acc8c65552a7); local BFTooltip_f3fe7a8f6d115926040773b03a6ff3a4 = GameTooltip:CreateTexture(nil, "BORDER"); BFTooltip_f3fe7a8f6d115926040773b03a6ff3a4:SetTexture("Interface\\ChatFrame\\ChatFrameBackground"); BFTooltip_f3fe7a8f6d115926040773b03a6ff3a4:SetPoint("TOPLEFT", GameTooltip, "TOPLEFT", 6, -6); BFTooltip_f3fe7a8f6d115926040773b03a6ff3a4:SetPoint("BOTTOMRIGHT", GameTooltip, "TOPRIGHT", -6, -27); BFTooltip_f3fe7a8f6d115926040773b03a6ff3a4:SetBlendMode("ADD"); BFTooltip_f3fe7a8f6d115926040773b03a6ff3a4:SetGradientAlpha("VERTICAL", .1, .1, .1, 0, .2, .2, .2, 1); BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:Init{ name = "BFTooltip", func = function() GameTooltip.classIcon = GameTooltip:CreateTexture(nil, "ARTWORK"); GameTooltip.classIcon:SetPoint("LEFT", getglobal("GameTooltipTextLeft1"), "LEFT", 2, -1); GameTooltip.classIcon:SetWidth(14); GameTooltip.classIcon:SetHeight(14); GameTooltip.classIcon:Hide(); BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c:Hook(GameTooltip, "SetUnit", BFTooltip_6b595d544c5c02ea5184b48c2201a3f7); BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c:Hook(GameTooltip, "FadeOut", BFTooltip_65d610506803fe617339151af6dbc5db); BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c:HookScript(GameTooltip, "OnShow", BFTooltip_987a4eb29ae1542f7691aa4320210249); BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c:HookScript(GameTooltip, "OnTooltipCleared", BFTooltip_c26bb4c4b37e799f1819a6f53957dcaa); end }; function BFTT_Toggle(enable) local BFTooltip_413bf9c15ce77baa8ebf1cda4cbf4887, BFTooltip_102f59c700c9d50fbbe02ae3f8f42302; if (enable) then BFTooltip_d21ea2df7d42b70936e5762719760d32:Hook("ChatFrame_MessageEventHandler", BFTooltip_d636d1da4a6fee14805d22aa871379f6); BFTooltip_d21ea2df7d42b70936e5762719760d32:Hook("GameTooltip_UnitColor", BFTooltip_d778efd40aafd6a2ce01001bc73179eb); BFTooltip_d21ea2df7d42b70936e5762719760d32:Hook("GameTooltip_SetDefaultAnchor", BFTooltip_e09df68d86d3518f432268e2ba0cc101); BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c:Enable(); hooksecurefunc("NotifyInspect",function(_unit)inspectUnit = UnitName(_unit) end) BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:RegisterEvent("UPDATE_MOUSEOVER_UNIT"); BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:RegisterEvent("PLAYER_TARGET_CHANGED"); BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:RegisterEvent("CHAT_MSG_SYSTEM"); BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:RegisterEvent("INSPECT_TALENT_READY"); BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:RegisterEvent("ADDON_LOADED") GameTooltip:UnregisterEvent("UPDATE_MOUSEOVER_UNIT") BFTT_Fresh:Show(); BFTT_Enable = 1 else BFTooltip_d21ea2df7d42b70936e5762719760d32:Unhook("ChatFrame_MessageEventHandler"); BFTooltip_d21ea2df7d42b70936e5762719760d32:Unhook("GameTooltip_UnitColor"); BFTooltip_d21ea2df7d42b70936e5762719760d32:Unhook("GameTooltip_SetDefaultAnchor"); GameTooltip:RegisterEvent("UPDATE_MOUSEOVER_UNIT") BFTooltip_6c391f92e72d1c9b7434bca8947c5e2c:Disable(); BFTooltip_a46e5cc7ff0d216ef122885a0976fd93:UnregisterAllEvent(); BFTT_Fresh:Hide(); BFTT_Enable = nil; end end
