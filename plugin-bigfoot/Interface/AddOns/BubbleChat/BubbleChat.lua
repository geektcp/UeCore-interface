 BubbleChat_58e0d7a6b7b72c9bb2bcf72e79c4c86f = 0.01; BubbleChat_d09707480e2b46468c8101c93bf18529 = 4; BubbleChat_6cd25125927d1e49eee40b5aff743961 = 2; BubbleChat_81d335b56c779029ad38e625bc6ae4c6 = 3; BubbleChat_dce637108f87f6b82e5dcf2725e2fc9f = 2; BubbleChat_1c4280a1e737b4d77d0ff776be2b7c4a = nil; BubbleChat_ee8481b8215d242e3d8c19cfc319cc12 = nil; if (GetLocale() == "zhCN") then BubbleChat_eb6ed03b31f18d00b50536a6d48c46a6 = "Fonts\\ZYHei.TTF"; elseif (GetLocale() == "zhTW") then BubbleChat_eb6ed03b31f18d00b50536a6d48c46a6 = "Fonts\\bHEI01B.TTF"; else BubbleChat_eb6ed03b31f18d00b50536a6d48c46a6 = "Fonts\\ARIALN.TTF"; end function BubbleChatFrame_OnLoad(self) getglobal(self:GetName().."Text"):SetFont(BubbleChat_eb6ed03b31f18d00b50536a6d48c46a6, 11); end function BubbleChat_Toggle(switch) if (switch) then local BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f; for BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f = 1, 4, 1 do local BubbleChat_9e83872083ad957c8f380801be754171 = getglobal("PartyMemberFrame"..BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f); local BubbleChat_411b8aa6d5954c6020f0b9c9e80e847a = getglobal("BubbleChatFrame"..BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f); BubbleChat_9e83872083ad957c8f380801be754171:RegisterAnchorFrame(BubbleChat_411b8aa6d5954c6020f0b9c9e80e847a, 1, "TOPLEFT", "TOPRIGHT", 0, -10, 0); BubbleChat_411b8aa6d5954c6020f0b9c9e80e847a:RegisterEvent("CHAT_MSG_PARTY"); end BubbleChat_1c4280a1e737b4d77d0ff776be2b7c4a = 1; else local BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f; for BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f = 1, 4, 1 do local BubbleChat_411b8aa6d5954c6020f0b9c9e80e847a = getglobal("BubbleChatFrame"..BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f); local BubbleChat_9e83872083ad957c8f380801be754171 = getglobal("PartyMemberFrame"..BubbleChat_e914904fab9d05d3f54d52bfc31a0f3f); BubbleChat_9e83872083ad957c8f380801be754171:UnregisterAnchorFrame(BubbleChat_411b8aa6d5954c6020f0b9c9e80e847a); BubbleChat_411b8aa6d5954c6020f0b9c9e80e847a:UnregisterEvent("CHAT_MSG_PARTY"); end BubbleChat_1c4280a1e737b4d77d0ff776be2b7c4a = nil; end end function BubbleChatFrame_OnEvent(self, BubbleChat_d0708241b607c9a9dd1953c812fadfb7, ...) if ( BubbleChat_1c4280a1e737b4d77d0ff776be2b7c4a ) then if ( BubbleChat_d0708241b607c9a9dd1953c812fadfb7 == "CHAT_MSG_PARTY" ) then local BubbleChat_c9bd86bc8bc59457d49315cf5b8c5b88, BubbleChat_9c987de176f2b454baede402cee36bfa = ...; BubbleChat_b556b6bef953002548e7fb2e73a706c9(self, BubbleChat_9c987de176f2b454baede402cee36bfa, BubbleChat_c9bd86bc8bc59457d49315cf5b8c5b88); end end end function BubbleChatFrame_OnUpdate(self, BubbleChat_0160ce060565362532dda1b97095ec1d) if ( self.BubbleChat_66435abd012da70159bcad928a4d9212 ) then self.BubbleChat_5059665d25de845079032324c2617d4c = self.BubbleChat_5059665d25de845079032324c2617d4c + BubbleChat_0160ce060565362532dda1b97095ec1d; if ( self.BubbleChat_5059665d25de845079032324c2617d4c > BubbleChat_58e0d7a6b7b72c9bb2bcf72e79c4c86f ) then self.BubbleChat_5059665d25de845079032324c2617d4c = 0; self.BubbleChat_66435abd012da70159bcad928a4d9212 = self.BubbleChat_66435abd012da70159bcad928a4d9212 + 1; if ( self.BubbleChat_66435abd012da70159bcad928a4d9212 > BubbleChat_d09707480e2b46468c8101c93bf18529 ) then local BubbleChat_c6defc5e7bef8a3efaa93e2599649b86 = getglobal(self:GetName().."Text"); local BubbleChat_fb5b14c9168fe2756864d124d01ab444 = getglobal(self:GetName().."Texture"); BubbleChat_c6defc5e7bef8a3efaa93e2599649b86:SetText(self.BubbleChat_e6955c64cf39bdb23dc86de1a9ec2117); BubbleChat_fb5b14c9168fe2756864d124d01ab444:SetTexture("Interface\\Addons\\BubbleChat\\bubble"); self.BubbleChat_66435abd012da70159bcad928a4d9212 = nil; self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 = BubbleChat_6cd25125927d1e49eee40b5aff743961; return; else local BubbleChat_c6defc5e7bef8a3efaa93e2599649b86 = getglobal(self:GetName().."Text"); local BubbleChat_fb5b14c9168fe2756864d124d01ab444 = getglobal(self:GetName().."Texture"); BubbleChat_c6defc5e7bef8a3efaa93e2599649b86:SetText(""); BubbleChat_fb5b14c9168fe2756864d124d01ab444:SetTexture("Interface\\Addons\\BubbleChat\\bubbleanim"..self.BubbleChat_66435abd012da70159bcad928a4d9212); end end elseif ( self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 ) then self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 = self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 - BubbleChat_0160ce060565362532dda1b97095ec1d; if ( self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 < 0 ) then self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 = nil; self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 = BubbleChat_81d335b56c779029ad38e625bc6ae4c6; return; end elseif ( self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 and self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 ~= 0 ) then self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 = self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 - BubbleChat_0160ce060565362532dda1b97095ec1d; if ( self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 < 0 ) then self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 = 0; self.BubbleChat_6824803b0018349a6b6f3594f444f9b1 = BubbleChat_dce637108f87f6b82e5dcf2725e2fc9f; end self:SetAlpha((self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7/BubbleChat_81d335b56c779029ad38e625bc6ae4c6)*0.5+0.5); elseif ( self.BubbleChat_6824803b0018349a6b6f3594f444f9b1 ) then self.BubbleChat_6824803b0018349a6b6f3594f444f9b1 = self.BubbleChat_6824803b0018349a6b6f3594f444f9b1 - BubbleChat_0160ce060565362532dda1b97095ec1d; if ( self.BubbleChat_6824803b0018349a6b6f3594f444f9b1 < 0 ) then self:Hide(); self.BubbleChat_6824803b0018349a6b6f3594f444f9b1 = nil; self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 = nil; self.BubbleChat_f3caf76b3eafddac2283fb6677dfceb5 = nil; self.BubbleChat_66435abd012da70159bcad928a4d9212 = nil; self.BubbleChat_e6955c64cf39bdb23dc86de1a9ec2117 = ""; return; end end end function BubbleChat_b556b6bef953002548e7fb2e73a706c9(self, BubbleChat_9c987de176f2b454baede402cee36bfa, BubbleChat_c9bd86bc8bc59457d49315cf5b8c5b88) local BubbleChat_8983c60d66c8593ec7165ea9dbedb584 = UnitName("party"..self:GetID()); if ( BubbleChat_9c987de176f2b454baede402cee36bfa == BubbleChat_8983c60d66c8593ec7165ea9dbedb584 ) then local BubbleChat_fb5b14c9168fe2756864d124d01ab444 = getglobal(self:GetName().."Texture"); BubbleChat_fb5b14c9168fe2756864d124d01ab444:SetTexture("Interfce\\Addons\\BubbleChat\\bubbleanim1"); self:SetAlpha(1.0); self.BubbleChat_5059665d25de845079032324c2617d4c = 0; self.BubbleChat_66435abd012da70159bcad928a4d9212 = 0; self.BubbleChat_196cb0430fd9eb66f6b01d47c71e57f7 = nil; self.BubbleChat_e6955c64cf39bdb23dc86de1a9ec2117 = BubbleChat_c9bd86bc8bc59457d49315cf5b8c5b88; self:Show(); end end
